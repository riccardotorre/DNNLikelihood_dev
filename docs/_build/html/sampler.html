

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>The Sampler object &mdash; DNNLikelihood</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script src="_static/clipboard.min.js"></script>
        <script src="_static/copybutton.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.2/gh-fork-ribbon.min.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="The Data object" href="data.html" />
    <link rel="prev" title="The Likelihood object" href="likelihood.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> DNNLikelihood
          

          
          </a>

          
            
            
              <div class="version">
                0.0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="code.html">Python module</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="histfactory.html">The Histfactory object</a></li>
<li class="toctree-l2"><a class="reference internal" href="likelihood.html">The Likelihood object</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">The Sampler object</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#summary">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="#usage">Usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="#class">Class</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#arguments">Arguments</a></li>
<li class="toctree-l4"><a class="reference internal" href="#attributes">Attributes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#methods">Methods</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#references">References</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="data.html">The Data object</a></li>
<li class="toctree-l2"><a class="reference internal" href="DNN_likelihood.html">The DNN_likelihood object</a></li>
<li class="toctree-l2"><a class="reference internal" href="DNN_likelihood_ensemble.html">The DNN_likelihood_ensemble object</a></li>
<li class="toctree-l2"><a class="reference internal" href="set_resources.html">Resources management</a></li>
<li class="toctree-l2"><a class="reference internal" href="inference.html">Inference functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="utils.html">Useful functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="corner.html">Notes on corner.py</a></li>
<li class="toctree-l2"><a class="reference internal" href="plots.html">Notes on plots</a></li>
<li class="toctree-l2"><a class="reference internal" href="show_prints.html">Verbosity mode</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="citations.html">Use and Citation</a></li>
<li class="toctree-l1"><a class="reference internal" href="indices_tables.html">Indices</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">DNNLikelihood</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="code.html">Python module</a> &raquo;</li>
        
      <li>The Sampler object</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/sampler.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="the-sampler-object">
<span id="sampler-object"></span><h1>The Sampler object<a class="headerlink" href="#the-sampler-object" title="Permalink to this headline">¶</a></h1>
<div class="section" id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="#DNNLikelihood.Sampler" title="DNNLikelihood.Sampler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sampler</span></code></a> class is an API to the <a href="https://emcee.rhttps://emcee.readthedocs.io/en/stable/"  target="_blank"> emcee</a> Python package that can be used to sample
<a class="reference internal" href="likelihood.html#DNNLikelihood.Likelihood" title="DNNLikelihood.Likelihood"><code class="xref py py-class docutils literal notranslate"><span class="pre">Likelihood</span></code></a> objects (more precisely the corresponding logpdf function) and export data
as a <a class="reference internal" href="data.html#DNNLikelihood.Data" title="DNNLikelihood.Data"><code class="xref py py-class docutils literal notranslate"><span class="pre">Data</span></code></a> objects. The <a class="reference internal" href="#DNNLikelihood.Sampler" title="DNNLikelihood.Sampler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sampler</span></code></a> object offers several methods to
perform MCMC sampling, analyze convergence, and produce different kind of plots.
The API uses <a href="https://emcee.rhttps://emcee.readthedocs.io/en/stable/"  target="_blank"> emcee</a> to perform the sampling and manage the backend, which ensures that samples are safely stored to file
at any time of the sampling process. See also <a class="reference internal" href="likelihood.html#likelihood-object"><span class="std std-ref">the Likelihood object</span></a> and
<a class="reference internal" href="data.html#data-object"><span class="std std-ref">the Data object</span></a>, which are respectively used to initialize the
<a class="reference internal" href="#DNNLikelihood.Sampler" title="DNNLikelihood.Sampler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sampler</span></code></a> class and to export the <a class="reference internal" href="data.html#DNNLikelihood.Data" title="DNNLikelihood.Data"><code class="xref py py-class docutils literal notranslate"><span class="pre">Data</span></code></a> object.</p>
</div>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p>We give here a brief introduction to the use of the <a class="reference internal" href="#DNNLikelihood.Sampler" title="DNNLikelihood.Sampler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sampler</span></code></a> class. Refer to the
full class documentation for more details. All examples will be referred to the toy likelihood discussed in
<a class="reference internal" href="likelihood.html#likelihood-usage"><span class="std std-ref">the Likelihood object Usage</span></a> section of the documentation.</p>
<p>The <a class="reference internal" href="#DNNLikelihood.Sampler" title="DNNLikelihood.Sampler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sampler</span></code></a> class has been thought to be as flexible as possible in terms of initialization
and input parameters. Indeed the object can be initialized by passing different combinations of arguments and the
<a class="reference internal" href="#DNNLikelihood.Sampler.__init__" title="DNNLikelihood.Sampler.__init__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.__init__</span></code></a> method always extracts (or creates if it does not exist) the file
corresponding to the <a class="reference internal" href="#DNNLikelihood.Sampler.likelihood_script_file" title="DNNLikelihood.Sampler.likelihood_script_file"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.likelihood_script_file</span></code></a> attribute.
The likelihood related parameters and the logpdf are always set by importing this file as a module, which instantiates a
<a class="reference internal" href="likelihood.html#DNNLikelihood.Likelihood" title="DNNLikelihood.Likelihood"><code class="xref py py-class docutils literal notranslate"><span class="pre">Likelihood</span></code></a> object, and by extracting the parameters from it.</p>
<p>The procedure of passing the <a class="reference internal" href="likelihood.html#DNNLikelihood.Likelihood" title="DNNLikelihood.Likelihood"><code class="xref py py-class docutils literal notranslate"><span class="pre">Likelihood</span></code></a> object through a script file instead of
passing it directly may seem redundant. However, this is needed to ensure that MCMC properly runs in parallel also on
Windows machines, where the <a href="https://docs.python.org/3/library/multiprocessing.html"  target="_blank"> multiprocessing</a> package may have unexpected behavior.</p>
<p>Let us start by creating a new <a class="reference internal" href="#DNNLikelihood.Sampler" title="DNNLikelihood.Sampler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sampler</span></code></a> object, which requires the input argument
<code class="docutils literal notranslate"><span class="pre">new_sampler=True</span></code>. We can proceed in three different ways, by giving as input one of the three arguments
<a class="reference internal" href="#cmdoption-arg-likelihood-script-file"><code class="xref std std-option docutils literal notranslate"><span class="pre">likelihood_script_file</span></code></a>, <a class="reference internal" href="#cmdoption-arg-likelihood"><code class="xref std std-option docutils literal notranslate"><span class="pre">likelihood</span></code></a>, and, in case we have previously saved a <a class="reference internal" href="#DNNLikelihood.Sampler" title="DNNLikelihood.Sampler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sampler</span></code></a>
and we are interested in creating a new sampler with the same parameters, the argument <a class="reference internal" href="#cmdoption-arg-sampler-input-file"><code class="xref std std-option docutils literal notranslate"><span class="pre">sampler_input_file</span></code></a>. Each of these
arguments is used to determine the attribute <a class="reference internal" href="#DNNLikelihood.Sampler.likelihood_script_file" title="DNNLikelihood.Sampler.likelihood_script_file"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.likelihood_script_file</span></code></a>
which is then used to import the likelihood related attributes. If more than one of these inputs is give, only one is used,
with priority in the order <a class="reference internal" href="#cmdoption-arg-likelihood-script-file"><code class="xref std std-option docutils literal notranslate"><span class="pre">likelihood_script_file</span></code></a>, <a class="reference internal" href="#cmdoption-arg-likelihood"><code class="xref std std-option docutils literal notranslate"><span class="pre">likelihood</span></code></a>, and <a class="reference internal" href="#cmdoption-arg-sampler-input-file"><code class="xref std std-option docutils literal notranslate"><span class="pre">sampler_input_file</span></code></a>.
Let us see the three options in code:</p>
<blockquote>
<div><ul>
<li><p>Initialization from <a class="reference internal" href="#cmdoption-arg-likelihood-script-file"><code class="xref std std-option docutils literal notranslate"><span class="pre">likelihood_script_file</span></code></a></p>
<blockquote>
<div><p>We assume that a likelihood script file has been already created (see then <a class="reference internal" href="likelihood.html#likelihood-usage"><span class="std std-ref">the Likelihood object Usage</span></a>
section of the documentation). The <a class="reference internal" href="#DNNLikelihood.Sampler" title="DNNLikelihood.Sampler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sampler</span></code></a> can then be initialized as</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">DNNLikelihood</span>

<span class="n">sampler</span> <span class="o">=</span> <span class="n">DNNLikelihood</span><span class="o">.</span><span class="n">Sampler</span><span class="p">(</span><span class="n">new_sampler</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                 <span class="n">likelihood_script_file</span><span class="o">=&lt;</span><span class="n">my_output_folder</span><span class="o">&gt;/</span><span class="n">toy_likelihood_script</span><span class="p">,</span>
                                 <span class="n">nsteps</span><span class="o">=</span><span class="mi">50000</span><span class="p">)</span>
</pre></div>
</div>
<p>This initialize the object with a required number of steps <code class="docutils literal notranslate"><span class="pre">nsteps=50000</span></code> (this could then be changed to run for more steps). We have not
passed a <code class="docutils literal notranslate"><span class="pre">move_str</span></code> input so that the default <a href="https://emcee.rhttps://emcee.readthedocs.io/en/stable/"  target="_blank"> emcee</a> move <code class="docutils literal notranslate"><span class="pre">emcee.moves.StretchMove()</span></code> will be set (see the
<code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.move_str</span></code> attribute documentation for more details). Moreover, since
<code class="docutils literal notranslate"><span class="pre">parallel_CPU</span></code> has not been specified, the attribute <a class="reference internal" href="#DNNLikelihood.Sampler.parallel_CPU" title="DNNLikelihood.Sampler.parallel_CPU"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.parallel_CPU</span></code></a>
is automatically set to <code class="docutils literal notranslate"><span class="pre">True</span></code> and the sampler will be running in parallel mode.</p>
<p>When the object is created, it is automatically saved and three files are created:</p>
<blockquote>
<div><ul class="simple">
<li><p>&lt;my_output_folder&gt;/toy_sampler.json</p></li>
<li><p>&lt;my_output_folder&gt;/toy_sampler.log</p></li>
<li><p>&lt;my_output_folder&gt;/toy_sampler_backend.h5</p></li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
<li><p>Initialization from <a class="reference internal" href="#cmdoption-arg-likelihood"><code class="xref std std-option docutils literal notranslate"><span class="pre">likelihood</span></code></a></p>
<blockquote>
<div><p>The exact same object could be initialized directly from a <a class="reference internal" href="likelihood.html#DNNLikelihood.Likelihood" title="DNNLikelihood.Likelihood"><code class="xref py py-class docutils literal notranslate"><span class="pre">Likelihood</span></code></a> one. In this case the
<a class="reference internal" href="#DNNLikelihood.Sampler.__init__" title="DNNLikelihood.Sampler.__init__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.__init__</span></code></a> method takes care of generating the script file:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">DNNLikelihood</span>

<span class="n">likelihood</span> <span class="o">=</span> <span class="n">DNNLikelihood</span><span class="o">.</span><span class="n">Likelihood</span><span class="p">(</span><span class="n">likelihood_input_file</span><span class="o">=</span><span class="s2">&quot;&lt;my_output_folder&gt;/toy_likelihood&quot;</span><span class="p">)</span>

<span class="n">sampler</span> <span class="o">=</span> <span class="n">DNNLikelihood</span><span class="o">.</span><span class="n">Sampler</span><span class="p">(</span><span class="n">new_sampler</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                 <span class="n">likelihood</span><span class="o">=</span><span class="n">likelihood</span><span class="p">,</span>
                                 <span class="n">nsteps</span><span class="o">=</span><span class="mi">50000</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Initialization from <a class="reference internal" href="#cmdoption-arg-sampler-input-file"><code class="xref std std-option docutils literal notranslate"><span class="pre">sampler_input_file</span></code></a></p>
<blockquote>
<div><p>Finally, in the case the object has been initialized in the past, and the output files are available, a new object can be initialized
with the same parameters by passing the <a class="reference internal" href="#cmdoption-arg-sampler-input-file"><code class="xref std std-option docutils literal notranslate"><span class="pre">sampler_input_file</span></code></a> input. In this case, again, the
<a class="reference internal" href="#DNNLikelihood.Sampler.__init__" title="DNNLikelihood.Sampler.__init__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.__init__</span></code></a> method uses the argument to determine or create the
<a class="reference internal" href="#DNNLikelihood.Sampler.likelihood_script_file" title="DNNLikelihood.Sampler.likelihood_script_file"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.likelihood_script_file</span></code></a> and then proceeds in the usual way.
The following code produces an object identical to the previous ones:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">DNNLikelihood</span>

<span class="n">sampler</span> <span class="o">=</span> <span class="n">DNNLikelihood</span><span class="o">.</span><span class="n">Sampler</span><span class="p">(</span><span class="n">new_sampler</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                 <span class="n">nsteps</span><span class="o">=</span><span class="mi">50000</span><span class="p">,</span>
                                 <span class="n">sampler_input_file</span><span class="o">=&lt;</span><span class="n">my_output_folder</span><span class="o">&gt;/</span><span class="n">toy_sampler</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</div></blockquote>
<p>A previously saved <a class="reference internal" href="#DNNLikelihood.Sampler" title="DNNLikelihood.Sampler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sampler</span></code></a> could be imported by using the <code class="docutils literal notranslate"><span class="pre">new_sampler=False</span></code> input.
Again, one could provide one of the three arguments <a class="reference internal" href="#cmdoption-arg-likelihood-script-file"><code class="xref std std-option docutils literal notranslate"><span class="pre">likelihood_script_file</span></code></a>, <a class="reference internal" href="#cmdoption-arg-likelihood"><code class="xref std std-option docutils literal notranslate"><span class="pre">likelihood</span></code></a>,
and <a class="reference internal" href="#cmdoption-arg-sampler-input-file"><code class="xref std std-option docutils literal notranslate"><span class="pre">sampler_input_file</span></code></a>. This time, each of these
arguments is used to determine the <a class="reference internal" href="#DNNLikelihood.Sampler.likelihood_script_file" title="DNNLikelihood.Sampler.likelihood_script_file"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.likelihood_script_file</span></code></a> and
<a class="reference internal" href="#DNNLikelihood.Sampler.sampler_input_file" title="DNNLikelihood.Sampler.sampler_input_file"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.sampler_input_file</span></code></a> attributes, used to build the object. If more than
one of these inputs is give, only one is used, with priority in the order <a class="reference internal" href="#cmdoption-arg-sampler-input-file"><code class="xref std std-option docutils literal notranslate"><span class="pre">sampler_input_file</span></code></a>,
<a class="reference internal" href="#cmdoption-arg-likelihood-script-file"><code class="xref std std-option docutils literal notranslate"><span class="pre">likelihood_script_file</span></code></a>, and <a class="reference internal" href="#cmdoption-arg-likelihood"><code class="xref std std-option docutils literal notranslate"><span class="pre">likelihood</span></code></a>. Obviously, independently on the passed input arguments,
the files corresponding to <a class="reference internal" href="#DNNLikelihood.Sampler.sampler_input_file" title="DNNLikelihood.Sampler.sampler_input_file"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.sampler_input_file</span></code></a> should exist (i.e. a
saved <a class="reference internal" href="#DNNLikelihood.Sampler" title="DNNLikelihood.Sampler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sampler</span></code></a> object should be available).</p>
<p>The following three code options produce the same result, importing the object saved before:</p>
<blockquote>
<div><ul>
<li><p>Import from <a class="reference internal" href="#cmdoption-arg-sampler-input-file"><code class="xref std std-option docutils literal notranslate"><span class="pre">sampler_input_file</span></code></a></p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">DNNLikelihood</span>

<span class="n">sampler</span> <span class="o">=</span> <span class="n">DNNLikelihood</span><span class="o">.</span><span class="n">Sampler</span><span class="p">(</span><span class="n">new_sampler</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                 <span class="n">sampler_input_file</span><span class="o">=&lt;</span><span class="n">my_output_folder</span><span class="o">&gt;/</span><span class="n">toy_sampler</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Import from <a class="reference internal" href="#cmdoption-arg-likelihood-script-file"><code class="xref std std-option docutils literal notranslate"><span class="pre">likelihood_script_file</span></code></a></p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">DNNLikelihood</span>

<span class="n">sampler</span> <span class="o">=</span> <span class="n">DNNLikelihood</span><span class="o">.</span><span class="n">Sampler</span><span class="p">(</span><span class="n">new_sampler</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                 <span class="n">likelihood_script_file</span><span class="o">=&lt;</span><span class="n">my_output_folder</span><span class="o">&gt;/</span><span class="n">toy_likelihood_script</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Import from <a class="reference internal" href="#cmdoption-arg-likelihood"><code class="xref std std-option docutils literal notranslate"><span class="pre">likelihood</span></code></a></p>
<blockquote>
<div><p>The exact same object could be initialized directly from a <a class="reference internal" href="likelihood.html#DNNLikelihood.Likelihood" title="DNNLikelihood.Likelihood"><code class="xref py py-class docutils literal notranslate"><span class="pre">Likelihood</span></code></a> one. In this case the
<a class="reference internal" href="#DNNLikelihood.Sampler.__init__" title="DNNLikelihood.Sampler.__init__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.__init__</span></code></a> method takes care of generating the script file:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">DNNLikelihood</span>

<span class="n">likelihood</span> <span class="o">=</span> <span class="n">DNNLikelihood</span><span class="o">.</span><span class="n">Likelihood</span><span class="p">(</span><span class="n">likelihood_input_file</span><span class="o">=</span><span class="s2">&quot;&lt;my_output_folder&gt;/toy_likelihood&quot;</span><span class="p">)</span>

<span class="n">sampler</span> <span class="o">=</span> <span class="n">DNNLikelihood</span><span class="o">.</span><span class="n">Sampler</span><span class="p">(</span><span class="n">new_sampler</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                 <span class="n">likelihood</span><span class="o">=</span><span class="n">likelihood</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</div></blockquote>
<p>When the object is imported, the <a class="reference internal" href="#DNNLikelihood.Sampler.log" title="DNNLikelihood.Sampler.log"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.log</span></code></a> attribute is updated, as well as the corresponding file
&lt;my_output_folder&gt;/toy_sampler.log. If a new <code class="docutils literal notranslate"><span class="pre">nsteps</span></code> input, larger than the number of steps available in the existing backedn is passed,
then this is saved in the <a class="reference internal" href="#DNNLikelihood.Sampler.nsteps" title="DNNLikelihood.Sampler.nsteps"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.nsteps</span></code></a>, which is otherwise set to the number of available steps.
Also the <code class="docutils literal notranslate"><span class="pre">moves_str</span></code> input can be passed to update (change) the move of the sampler.</p>
<p>Now that we have discussed how to create and import the object, let us see how to use it. The first thing we want to do is to produce
a sampling, which is done as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sampler</span><span class="o">.</span><span class="n">run_sampler</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>This runs the sampler and, through the <code class="docutils literal notranslate"><span class="pre">verbose=2</span></code> argument, shows a progress bar, together with the remaining time. Since the object
has attribute <a class="reference internal" href="#DNNLikelihood.Sampler.parallel_CPU" title="DNNLikelihood.Sampler.parallel_CPU"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.parallel_CPU</span></code></a> set to <code class="docutils literal notranslate"><span class="pre">True</span></code> the sampling is run in <code class="docutils literal notranslate"><span class="pre">n</span></code> parallel
processes, with <code class="docutils literal notranslate"><span class="pre">n</span></code> equal to the number of physical (not logical) cores. While the sampler runs, all produced sampler are saved in related
time in the backend file corresponding to the <a class="reference internal" href="#DNNLikelihood.Sampler.sampler_output_backend_file" title="DNNLikelihood.Sampler.sampler_output_backend_file"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.sampler_output_backend_file</span></code></a>
attribute. At the end of the sampling also the log attribute and file are updated.
The <a class="reference internal" href="#DNNLikelihood.Sampler.sampler" title="DNNLikelihood.Sampler.sampler"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.sampler</span></code></a> and <a class="reference internal" href="#DNNLikelihood.Sampler.backend" title="DNNLikelihood.Sampler.backend"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.backend</span></code></a> correspond to the
<a href="https://emcee.rhttps://emcee.readthedocs.io/en/stable/"  target="_blank"> emcee</a> objects <a href="https://emcee.readthedocs.io/en/stable/user/sampler/#emcee.EnsembleSampler"  target="_blank"> emcee.EnsembleSampler</a> and <a href="https://emcee.readthedocs.io/en/stable/user/backends/"  target="_blank"> emcee.Backends</a> and we refer to the <a href="https://emcee.rhttps://emcee.readthedocs.io/en/stable/"  target="_blank"> emcee</a> documentation for their use.
Nevertheless, the <a class="reference internal" href="#DNNLikelihood.Sampler" title="DNNLikelihood.Sampler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sampler</span></code></a> object, includes several methods that allow to perform convergence studies,
produce plots, and extract samples without the need of directly digging into the <a href="https://emcee.rhttps://emcee.readthedocs.io/en/stable/"  target="_blank"> emcee</a> objects and documentation.</p>
<p>As a first step we can compute the the Gelman and Rubin metrics <a class="bibtex reference internal" href="#gelman-1992zz" id="id1">[GR92]</a> for some parameters. For instance let us
compute the metrics for parameters <code class="docutils literal notranslate"><span class="pre">0</span></code> (poi) and <code class="docutils literal notranslate"><span class="pre">5</span></code> (nuis) after <code class="docutils literal notranslate"><span class="pre">[500,1000,5000,10000,50000]</span></code> steps:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sampler</span><span class="o">.</span><span class="n">gelman_rubin</span><span class="p">(</span><span class="n">pars</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span><span class="n">nsteps</span><span class="o">=</span><span class="p">[</span><span class="mi">500</span><span class="p">,</span><span class="mi">1000</span><span class="p">,</span><span class="mi">5000</span><span class="p">,</span><span class="mi">10000</span><span class="p">,</span><span class="mi">50000</span><span class="p">])</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">array</span><span class="p">([[</span><span class="mf">0.00000000e+00</span><span class="p">,</span> <span class="mf">5.00000000e+02</span><span class="p">,</span> <span class="mf">1.09139684e+00</span><span class="p">,</span> <span class="mf">2.47454986e-01</span><span class="p">,</span> <span class="mf">2.08260547e-01</span><span class="p">],</span>
           <span class="p">[</span><span class="mf">0.00000000e+00</span><span class="p">,</span> <span class="mf">1.00000000e+03</span><span class="p">,</span> <span class="mf">1.05672208e+00</span><span class="p">,</span> <span class="mf">1.84330055e-01</span><span class="p">,</span> <span class="mf">1.65349725e-01</span><span class="p">],</span>
           <span class="p">[</span><span class="mf">0.00000000e+00</span><span class="p">,</span> <span class="mf">5.00000000e+03</span><span class="p">,</span> <span class="mf">1.01555635e+00</span><span class="p">,</span> <span class="mf">1.26862627e-01</span><span class="p">,</span> <span class="mf">1.23053024e-01</span><span class="p">],</span>
           <span class="p">[</span><span class="mf">0.00000000e+00</span><span class="p">,</span> <span class="mf">1.00000000e+04</span><span class="p">,</span> <span class="mf">1.00790794e+00</span><span class="p">,</span> <span class="mf">1.20567487e-01</span><span class="p">,</span> <span class="mf">1.18705125e-01</span><span class="p">],</span>
           <span class="p">[</span><span class="mf">0.00000000e+00</span><span class="p">,</span> <span class="mf">5.00000000e+04</span><span class="p">,</span> <span class="mf">1.00124959e+00</span><span class="p">,</span> <span class="mf">1.15572381e-01</span><span class="p">,</span> <span class="mf">1.15290829e-01</span><span class="p">],</span>
           <span class="p">[</span><span class="mf">5.00000000e+00</span><span class="p">,</span> <span class="mf">5.00000000e+02</span><span class="p">,</span> <span class="mf">1.13686644e+00</span><span class="p">,</span> <span class="mf">3.49600912e-01</span><span class="p">,</span> <span class="mf">2.71401392e-01</span><span class="p">],</span>
           <span class="p">[</span><span class="mf">5.00000000e+00</span><span class="p">,</span> <span class="mf">1.00000000e+03</span><span class="p">,</span> <span class="mf">1.06837042e+00</span><span class="p">,</span> <span class="mf">3.03575872e-01</span><span class="p">,</span> <span class="mf">2.66503447e-01</span><span class="p">],</span>
           <span class="p">[</span><span class="mf">5.00000000e+00</span><span class="p">,</span> <span class="mf">5.00000000e+03</span><span class="p">,</span> <span class="mf">1.01267127e+00</span><span class="p">,</span> <span class="mf">2.61092073e-01</span><span class="p">,</span> <span class="mf">2.54676062e-01</span><span class="p">],</span>
           <span class="p">[</span><span class="mf">5.00000000e+00</span><span class="p">,</span> <span class="mf">1.00000000e+04</span><span class="p">,</span> <span class="mf">1.00587726e+00</span><span class="p">,</span> <span class="mf">2.62245501e-01</span><span class="p">,</span> <span class="mf">2.59235550e-01</span><span class="p">],</span>
           <span class="p">[</span><span class="mf">5.00000000e+00</span><span class="p">,</span> <span class="mf">5.00000000e+04</span><span class="p">,</span> <span class="mf">1.00122323e+00</span><span class="p">,</span> <span class="mf">2.56878972e-01</span><span class="p">,</span> <span class="mf">2.56262912e-01</span><span class="p">]])</span>
</pre></div>
</div>
<p>This returns an array where in the first column there is the parameter, in the second the number of steps and in the third to fifth
the values of the metrics. See the documentation of the <a class="reference internal" href="#DNNLikelihood.Sampler.gelman_rubin" title="DNNLikelihood.Sampler.gelman_rubin"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.gelman_rubin</span></code></a> method for
details.</p>
<p>We could also produce a plot of these metrics using the <a class="reference internal" href="#DNNLikelihood.Sampler.plot_gelman_rubin" title="DNNLikelihood.Sampler.plot_gelman_rubin"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.plot_gelman_rubin</span></code></a>
method</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sampler</span><span class="o">.</span><span class="n">plot_gelman_rubin</span><span class="p">(</span><span class="n">pars</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span> <span class="n">npoints</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
<a class="with-shadow reference internal image-reference" href="_images/toy_sampler_figure_GR_Rc_0.png"><img alt="_images/toy_sampler_figure_GR_Rc_0.png" class="with-shadow" src="_images/toy_sampler_figure_GR_Rc_0.png" style="width: 226.79999999999998px; height: 169.2px;" /></a>
<a class="with-shadow reference internal image-reference" href="_images/toy_sampler_figure_GR_sqrtVhat_0.png"><img alt="_images/toy_sampler_figure_GR_sqrtVhat_0.png" class="with-shadow" src="_images/toy_sampler_figure_GR_sqrtVhat_0.png" style="width: 226.79999999999998px; height: 169.2px;" /></a>
<a class="with-shadow reference internal image-reference" href="_images/toy_sampler_figure_GR_sqrtW_0.png"><img alt="_images/toy_sampler_figure_GR_sqrtW_0.png" class="with-shadow" src="_images/toy_sampler_figure_GR_sqrtW_0.png" style="width: 226.79999999999998px; height: 169.2px;" /></a>
<a class="with-shadow reference internal image-reference" href="_images/toy_sampler_figure_GR_Rc_5.png"><img alt="_images/toy_sampler_figure_GR_Rc_5.png" class="with-shadow" src="_images/toy_sampler_figure_GR_Rc_5.png" style="width: 226.79999999999998px; height: 169.2px;" /></a>
<a class="with-shadow reference internal image-reference" href="_images/toy_sampler_figure_GR_sqrtVhat_5.png"><img alt="_images/toy_sampler_figure_GR_sqrtVhat_5.png" class="with-shadow" src="_images/toy_sampler_figure_GR_sqrtVhat_5.png" style="width: 226.79999999999998px; height: 169.2px;" /></a>
<a class="with-shadow reference internal image-reference" href="_images/toy_sampler_figure_GR_sqrtW_5.png"><img alt="_images/toy_sampler_figure_GR_sqrtW_5.png" class="with-shadow" src="_images/toy_sampler_figure_GR_sqrtW_5.png" style="width: 226.79999999999998px; height: 169.2px;" /></a>
<p>Convergence could also be monitored through the autocorrelation time, which could be plot using the
<a class="reference internal" href="#DNNLikelihood.Sampler.plot_autocorr" title="DNNLikelihood.Sampler.plot_autocorr"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.plot_autocorr</span></code></a>. See the method documentation for details on the various
algorithms and options. For instance, using all available methods we can monitor parameters <code class="docutils literal notranslate"><span class="pre">0</span></code> and <code class="docutils literal notranslate"><span class="pre">5</span></code> by</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sampler</span><span class="o">.</span><span class="n">plot_autocorr</span><span class="p">(</span><span class="n">pars</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
</pre></div>
</div>
<a class="with-shadow reference internal image-reference" href="_images/toy_sampler_figure_autocorr_0.png"><img alt="_images/toy_sampler_figure_autocorr_0.png" class="with-shadow" src="_images/toy_sampler_figure_autocorr_0.png" style="width: 340.20000000000005px; height: 253.8px;" /></a>
<a class="with-shadow reference internal image-reference" href="_images/toy_sampler_figure_autocorr_5.png"><img alt="_images/toy_sampler_figure_autocorr_5.png" class="with-shadow" src="_images/toy_sampler_figure_autocorr_5.png" style="width: 340.20000000000005px; height: 253.8px;" /></a>
<p>The 1D distribution of the parameters can be obtained through the <a class="reference internal" href="#DNNLikelihood.Sampler.plot_dist" title="DNNLikelihood.Sampler.plot_dist"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.plot_dist</span></code></a>
method by</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sampler</span><span class="o">.</span><span class="n">plot_dist</span><span class="p">(</span><span class="n">pars</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
</pre></div>
</div>
<a class="with-shadow reference internal image-reference" href="_images/toy_sampler_figure_distr_0.png"><img alt="_images/toy_sampler_figure_distr_0.png" class="with-shadow" src="_images/toy_sampler_figure_distr_0.png" style="width: 340.20000000000005px; height: 253.8px;" /></a>
<a class="with-shadow reference internal image-reference" href="_images/toy_sampler_figure_distr_5.png"><img alt="_images/toy_sampler_figure_distr_5.png" class="with-shadow" src="_images/toy_sampler_figure_distr_5.png" style="width: 339.66px; height: 253.26000000000002px;" /></a>
<p>The last series of plots that can be automatically obtained are the parameters and logpdf evolution for a given number of walkers
with the number of steps.
They are plot by the <a class="reference internal" href="#DNNLikelihood.Sampler.plot_chains" title="DNNLikelihood.Sampler.plot_chains"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.plot_chains</span></code></a> and
<a class="reference internal" href="#DNNLikelihood.Sampler.plot_chains_logpdf" title="DNNLikelihood.Sampler.plot_chains_logpdf"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.plot_chains_logpdf</span></code></a> methods respectively. For instance we could plot
<code class="docutils literal notranslate"><span class="pre">30</span></code> randomly selected walkers as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sampler</span><span class="o">.</span><span class="n">plot_chains</span><span class="p">(</span><span class="n">pars</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span><span class="n">n_chains</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
<span class="n">sampler</span><span class="o">.</span><span class="n">plot_chains_logprob</span><span class="p">(</span><span class="n">n_chains</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
</pre></div>
</div>
<a class="with-shadow reference internal image-reference" href="_images/toy_sampler_figure_chains_0.png"><img alt="_images/toy_sampler_figure_chains_0.png" class="with-shadow" src="_images/toy_sampler_figure_chains_0.png" style="width: 226.79999999999998px; height: 169.2px;" /></a>
<a class="with-shadow reference internal image-reference" href="_images/toy_sampler_figure_chains_5.png"><img alt="_images/toy_sampler_figure_chains_5.png" class="with-shadow" src="_images/toy_sampler_figure_chains_5.png" style="width: 226.79999999999998px; height: 169.2px;" /></a>
<a class="with-shadow reference internal image-reference" href="_images/toy_sampler_figure_chains_logpdf.png"><img alt="_images/toy_sampler_figure_chains_logpdf.png" class="with-shadow" src="_images/toy_sampler_figure_chains_logpdf.png" style="width: 226.79999999999998px; height: 169.2px;" /></a>
<p>The full list of figures we produced can be extracted from the <a class="reference internal" href="#DNNLikelihood.Sampler.figures_list" title="DNNLikelihood.Sampler.figures_list"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.figures_list</span></code></a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sampler</span><span class="o">.</span><span class="n">figures_list</span><span class="p">()</span>

<span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="s1">&#39;&lt;my_output_folder&gt;/toy_sampler_figure_GR_Rc_0.pdf&#39;</span><span class="p">,</span>
     <span class="s1">&#39;&lt;my_output_folder&gt;/toy_sampler_figure_GR_sqrtVhat_0.pdf&#39;</span><span class="p">,</span>
     <span class="s1">&#39;&lt;my_output_folder&gt;/toy_sampler_figure_GR_sqrtW_0.pdf&#39;</span><span class="p">,</span>
     <span class="s1">&#39;&lt;my_output_folder&gt;/toy_sampler_figure_GR_Rc_5.pdf&#39;</span><span class="p">,</span>
     <span class="s1">&#39;&lt;my_output_folder&gt;/toy_sampler_figure_GR_sqrtVhat_5.pdf&#39;</span><span class="p">,</span>
     <span class="s1">&#39;&lt;my_output_folder&gt;/toy_sampler_figure_GR_sqrtW_5.pdf&#39;</span><span class="p">,</span>
     <span class="s1">&#39;&lt;my_output_folder&gt;/toy_sampler_figure_distr_0.pdf&#39;</span><span class="p">,</span>
     <span class="s1">&#39;&lt;my_output_folder&gt;/toy_sampler_figure_distr_5.pdf&#39;</span><span class="p">,</span>
     <span class="s1">&#39;&lt;my_output_folder&gt;/toy_sampler_figure_autocorr_0.pdf&#39;</span><span class="p">,</span>
     <span class="s1">&#39;&lt;my_output_folder&gt;/toy_sampler_figure_autocorr_5.pdf&#39;</span><span class="p">,</span>
     <span class="s1">&#39;&lt;my_output_folder&gt;/toy_sampler_figure_chains_0.pdf&#39;</span><span class="p">,</span>
     <span class="s1">&#39;&lt;my_output_folder&gt;/toy_sampler_figure_chains_5.pdf&#39;</span><span class="p">,</span>
     <span class="s1">&#39;&lt;my_output_folder&gt;/toy_sampler_figure_chains_logpdf.pdf&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>The <a class="reference internal" href="#DNNLikelihood.Sampler.nsteps" title="DNNLikelihood.Sampler.nsteps"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.nsteps</span></code></a> can be increased at any time, and the method
<a class="reference internal" href="#DNNLikelihood.Sampler.run_sampler" title="DNNLikelihood.Sampler.run_sampler"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.run_sampler</span></code></a> can be called again to run the steps missing to reach
<a class="reference internal" href="#DNNLikelihood.Sampler.nsteps" title="DNNLikelihood.Sampler.nsteps"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.nsteps</span></code></a>. For instance, to run for another 20K steps one does</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sampler</span><span class="o">.</span><span class="n">nsteps</span> <span class="o">=</span> <span class="mi">70000</span>
<span class="n">sampler</span><span class="o">.</span><span class="n">run_sampler</span><span class="p">()</span>
</pre></div>
</div>
<p>Once a satisfactory sampling has been obtained, we can generate a <a class="reference internal" href="data.html#DNNLikelihood.Data" title="DNNLikelihood.Data"><code class="xref py py-class docutils literal notranslate"><span class="pre">Data</span></code></a> object storing the
desired dataset (see <a class="reference internal" href="data.html#data-object"><span class="std std-ref">the Data object</span></a>). The dataset is obtained from the sampling by taking samples after a possible <code class="docutils literal notranslate"><span class="pre">burnin</span></code> number of steps, and
to avoid large correlation between samples, by taking a step every <code class="docutils literal notranslate"><span class="pre">thin</span></code> (a fully unbiased sampling, that is a faithful
random number generator would need <code class="docutils literal notranslate"><span class="pre">thin</span></code> equal or slightly larger than the autocorrelation time). This is done with the
<a class="reference internal" href="#DNNLikelihood.Sampler.get_data_object" title="DNNLikelihood.Sampler.get_data_object"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.get_data_object</span></code></a> as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">sampler</span><span class="o">.</span><span class="n">get_data_object</span><span class="p">(</span><span class="n">nsamples</span><span class="o">=</span><span class="mi">100000</span><span class="p">,</span> <span class="n">burnin</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="n">thin</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s2">&quot;float64&quot;</span><span class="p">,</span> <span class="n">test_fraction</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>This generates a <a class="reference internal" href="data.html#DNNLikelihood.Data" title="DNNLikelihood.Data"><code class="xref py py-class docutils literal notranslate"><span class="pre">Data</span></code></a> object with <code class="docutils literal notranslate"><span class="pre">100000</span></code> sampler obtained by discarding from the sampling the first
<code class="docutils literal notranslate"><span class="pre">5000</span></code> steps and by taking one every <code class="docutils literal notranslate"><span class="pre">10</span></code> steps after (until the required <code class="docutils literal notranslate"><span class="pre">nsamples</span></code> is reached). If the number <code class="docutils literal notranslate"><span class="pre">nsamples</span></code> is
larger than the one available consistently with the <code class="docutils literal notranslate"><span class="pre">burnin</span></code> and <code class="docutils literal notranslate"><span class="pre">thin</span></code> options, then all available samples are taken (and a warning
message is printed). The user may choose the data type of the exported samples <code class="docutils literal notranslate"><span class="pre">dtype</span></code> (default is <code class="docutils literal notranslate"><span class="pre">&quot;float64&quot;</span></code>), which is useful
to format data with the precision needed to train the DNNLikelihood. Finally, the user may already choose a <code class="docutils literal notranslate"><span class="pre">test_fraction</span></code>, so that
data are divided, inside the <a class="reference internal" href="data.html#DNNLikelihood.Data" title="DNNLikelihood.Data"><code class="xref py py-class docutils literal notranslate"><span class="pre">Data</span></code></a> object, into two samples, one used to feedtrain and validation data
and the other used as test data. If <code class="docutils literal notranslate"><span class="pre">test_fraction</span></code> is left to the default value <code class="docutils literal notranslate"><span class="pre">0</span></code>, it could simply be updated afterwards from
the <a class="reference internal" href="data.html#DNNLikelihood.Data" title="DNNLikelihood.Data"><code class="xref py py-class docutils literal notranslate"><span class="pre">Data</span></code></a> object itself.</p>
<p>As a final step we can save the state of the <a class="reference internal" href="#DNNLikelihood.Sampler" title="DNNLikelihood.Sampler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sampler</span></code></a> object by using the
<a class="reference internal" href="#DNNLikelihood.Sampler.save_sampler" title="DNNLikelihood.Sampler.save_sampler"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.save_sampler</span></code></a> method.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sampler</span><span class="o">.</span><span class="n">save_sampler</span><span class="p">(</span><span class="n">overwrite</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>The user should remember that the default value of the <code class="docutils literal notranslate"><span class="pre">overwrite</span></code> argument for saving functions is <code class="docutils literal notranslate"><span class="pre">False</span></code>. Therefore, in order not
to produce new files, <code class="docutils literal notranslate"><span class="pre">overwrite=True</span></code> should be explicitly specified when making intermediate or final saving of the objects.</p>
</div>
<div class="section" id="class">
<h2>Class<a class="headerlink" href="#class" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="DNNLikelihood.Sampler">
<em class="property">class </em><code class="sig-prename descclassname">DNNLikelihood.</code><code class="sig-name descname">Sampler</code><span class="sig-paren">(</span><em class="sig-param">new_sampler=None</em>, <em class="sig-param">likelihood_script_file=None</em>, <em class="sig-param">likelihood=None</em>, <em class="sig-param">nsteps=None</em>, <em class="sig-param">moves_str=None</em>, <em class="sig-param">parallel_CPU=None</em>, <em class="sig-param">vectorize=None</em>, <em class="sig-param">sampler_input_file=None</em>, <em class="sig-param">verbose=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/DNNLikelihood/sampler.html#Sampler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#DNNLikelihood.Sampler" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>This class contains the <code class="docutils literal notranslate"><span class="pre">Sampler</span></code> object, which allows to perform Markov Chain Monte Carlo
(MCMC) using the <a href="https://emcee.rhttps://emcee.readthedocs.io/en/stable/"  target="_blank"> emcee</a> package (ensemble sampling MCMC). See ref. <a class="bibtex reference internal" href="#foremanmackey-2012ig" id="id2">[FMHLG13]</a> for
details about <a href="https://emcee.rhttps://emcee.readthedocs.io/en/stable/"  target="_blank"> emcee</a>. On top of performing
MCMC the <code class="docutils literal notranslate"><span class="pre">Sampler</span></code> object contains several methods to check convergence, and export <code class="docutils literal notranslate"><span class="pre">Data</span></code> objects
that can be used to train and test the DNNLikelihood.
The object can be instantiated both passing a <code class="docutils literal notranslate"><span class="pre">Likelihood</span></code> object or a <code class="docutils literal notranslate"><span class="pre">likelihood_script_file</span></code> created
with the <code class="docutils literal notranslate"><span class="pre">Likelihood.save_likelihood_script</span></code> method.</p>
</div></blockquote>
</dd></dl>

<div class="section" id="arguments">
<span id="sampler-arguments"></span><h3>Arguments<a class="headerlink" href="#arguments" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><blockquote>
<div><dl class="option">
<dt id="cmdoption-arg-new-sampler">
<code class="sig-name descname">new_sampler</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-arg-new-sampler" title="Permalink to this definition">¶</a></dt>
<dd><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code> a new <a class="reference internal" href="#DNNLikelihood.Sampler" title="DNNLikelihood.Sampler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sampler</span></code></a> object is created from input arguments, while if
<code class="docutils literal notranslate"><span class="pre">False</span></code> the object is reconstructed from saved files (see the <a class="reference internal" href="#DNNLikelihood.Sampler.__init__" title="DNNLikelihood.Sampler.__init__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__init__</span></code></a>
method).
It is used to build the <a class="reference internal" href="#DNNLikelihood.Sampler.new_sampler" title="DNNLikelihood.Sampler.new_sampler"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.new_sampler</span></code></a> attribute.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">bool</span></code></p></li>
<li><p><strong>default</strong>: <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="option">
<dt id="cmdoption-arg-likelihood-script-file">
<code class="sig-name descname">likelihood_script_file</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-arg-likelihood-script-file" title="Permalink to this definition">¶</a></dt>
<dd><p>File name (either relative to the code execution folder or absolute) of a <code class="docutils literal notranslate"><span class="pre">likelihood_script_file</span></code>
genetated by the <a class="reference internal" href="likelihood.html#DNNLikelihood.Likelihood.save_likelihood_script" title="DNNLikelihood.Likelihood.save_likelihood_script"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Likelihood.save_likelihood_script</span></code></a> method.
It is used to build the <a class="reference internal" href="#DNNLikelihood.Sampler.likelihood_script_file" title="DNNLikelihood.Sampler.likelihood_script_file"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.likelihood_script_file</span></code></a> attribute.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">str</span></code> or <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><strong>default</strong>: <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="option">
<dt id="cmdoption-arg-likelihood">
<code class="sig-name descname">likelihood</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-arg-likelihood" title="Permalink to this definition">¶</a></dt>
<dd><p>A <a class="reference internal" href="likelihood.html#DNNLikelihood.Likelihood" title="DNNLikelihood.Likelihood"><code class="xref py py-class docutils literal notranslate"><span class="pre">Likelihood</span></code></a> object.
It is used to initialize the <a class="reference internal" href="#DNNLikelihood.Sampler" title="DNNLikelihood.Sampler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sampler</span></code></a> object directly from the
<a class="reference internal" href="likelihood.html#DNNLikelihood.Likelihood" title="DNNLikelihood.Likelihood"><code class="xref py py-class docutils literal notranslate"><span class="pre">Likelihood</span></code></a> one. This argument is not saved into an attribute:
the <a class="reference internal" href="likelihood.html#DNNLikelihood.Likelihood" title="DNNLikelihood.Likelihood"><code class="xref py py-class docutils literal notranslate"><span class="pre">Likelihood</span></code></a> object is copied, used to save a likelihood script file and to
set the <a class="reference internal" href="#DNNLikelihood.Sampler.likelihood_script_file" title="DNNLikelihood.Sampler.likelihood_script_file"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.likelihood_script_file</span></code></a> attribute if the latter
is not passed through the argument <a class="reference internal" href="#cmdoption-arg-likelihood-script-file"><code class="xref std std-option docutils literal notranslate"><span class="pre">likelihood_script_file</span></code></a> (see the <a class="reference internal" href="#DNNLikelihood.Sampler.__init__" title="DNNLikelihood.Sampler.__init__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__init__</span></code></a>
method).</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <a class="reference internal" href="likelihood.html#DNNLikelihood.Likelihood" title="DNNLikelihood.Likelihood"><code class="xref py py-class docutils literal notranslate"><span class="pre">Likelihood</span></code></a> object or <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><strong>default</strong>: <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="option">
<dt id="cmdoption-arg-nsteps">
<code class="sig-name descname">nsteps</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-arg-nsteps" title="Permalink to this definition">¶</a></dt>
<dd><p>Final number of MCMC steps. When the object is initialized with the <a class="reference internal" href="#cmdoption-arg-new-sampler"><code class="xref std std-option docutils literal notranslate"><span class="pre">new_sampler</span></code></a> argument set to <code class="docutils literal notranslate"><span class="pre">False</span></code>
then, if <a class="reference internal" href="#cmdoption-arg-nsteps"><code class="xref std std-option docutils literal notranslate"><span class="pre">nsteps</span></code></a> is larger than the number of steps available in the backend, it is saved in the
<a class="reference internal" href="#DNNLikelihood.Sampler.nsteps" title="DNNLikelihood.Sampler.nsteps"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.nsteps</span></code></a>, otherwise the latter is set equal to the number of steps available
in the backend.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">int</span></code> or <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><strong>default</strong>: <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="option">
<dt id="cmdoption-arg-moves-str">
<code class="sig-name descname">moves_str</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-arg-moves-str" title="Permalink to this definition">¶</a></dt>
<dd><p>String containing an <a href="https://emcee.readthedocs.io/en/stable/user/moves/"  target="_blank"> emcee.moves</a> object. If <code class="docutils literal notranslate"><span class="pre">None</span></code> is passed, the default <code class="docutils literal notranslate"><span class="pre">emcee.moves.StretchMove()</span></code> is passed.
It is used to set the <a class="reference internal" href="#DNNLikelihood.Sampler.moves_str" title="DNNLikelihood.Sampler.moves_str"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.moves_str</span></code></a> attribute.</p>
<blockquote>
<div><ul>
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">str</span></code> or <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><strong>default</strong>: <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><strong>example</strong>: “[(emcee.moves.StretchMove(0.7), 0.2), (emcee.moves.GaussianMove(0.1, mode=’random’,factor=None),0.8)]”</p>
<blockquote>
<div><p>This gives a move that is 20% <code class="docutils literal notranslate"><span class="pre">StretchMove</span></code> with parameter 0.7 and 80% <code class="docutils literal notranslate"><span class="pre">GaussianMove</span></code> with covariance 0.1 and
mode <code class="docutils literal notranslate"><span class="pre">'random'</span></code> (i.e. updating a single random parameter at each step).
See the <a href="https://emcee.readthedocs.io/en/stable/user/moves/"  target="_blank"> emcee.moves</a> documentation for more details.</p>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="option">
<dt id="cmdoption-arg-parallel-cpu">
<code class="sig-name descname">parallel_CPU</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-arg-parallel-cpu" title="Permalink to this definition">¶</a></dt>
<dd><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code> the MCMC is run in
parallel on the available CPU cores, otherwise only a single core is used.
It is used to set the <a class="reference internal" href="#DNNLikelihood.Sampler.parallel_CPU" title="DNNLikelihood.Sampler.parallel_CPU"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.parallel_CPU</span></code></a> attribute.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">bool</span></code></p></li>
<li><p><strong>default</strong>: <code class="docutils literal notranslate"><span class="pre">True</span></code></p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="option">
<dt id="cmdoption-arg-vectorize">
<code class="sig-name descname">vectorize</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-arg-vectorize" title="Permalink to this definition">¶</a></dt>
<dd><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, the method <code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.logpdf</span></code> is expected to accept a list of
points and to return a list of logpdf values, and <a class="reference internal" href="#DNNLikelihood.Sampler.parallel_CPU" title="DNNLikelihood.Sampler.parallel_CPU"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.parallel_CPU</span></code></a>
is automatically set to <code class="docutils literal notranslate"><span class="pre">False</span></code>. See the <a href="https://emcee.readthedocs.io/en/stable/user/sampler/#emcee.EnsembleSampler"  target="_blank"> emcee.EnsembleSampler</a> documentation for more details.
It is used to set the <a class="reference internal" href="#DNNLikelihood.Sampler.vectorize" title="DNNLikelihood.Sampler.vectorize"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.vectorize</span></code></a> attribute.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-arg-sampler-input-file">
<code class="sig-name descname">sampler_input_file</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-arg-sampler-input-file" title="Permalink to this definition">¶</a></dt>
<dd><p>File name (either relative to the code execution folder or absolute, with or without any of the
.json extensions) of a saved <a class="reference internal" href="#DNNLikelihood.Sampler" title="DNNLikelihood.Sampler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sampler</span></code></a> object.
It is used to set the <code class="xref py py-attr docutils literal notranslate"><span class="pre">Likelihood.sampler_input_file</span></code>
attribute.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">str</span></code> or <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><strong>default</strong>: <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
</ul>
</div></blockquote>
</dd></dl>

</div></blockquote>
<dl class="option">
<dt id="cmdoption-arg-verbose">
<code class="sig-name descname">verbose</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-arg-verbose" title="Permalink to this definition">¶</a></dt>
<dd><p>Argument used to set the verbosity mode of the <a class="reference internal" href="likelihood.html#DNNLikelihood.Likelihood.__init__" title="DNNLikelihood.Likelihood.__init__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Likelihood.__init__</span></code></a>
method and the default verbosity mode of all class methods that accept a <code class="docutils literal notranslate"><span class="pre">verbose</span></code> argument.
See <a class="reference internal" href="show_prints.html#verbosity-mode"><span class="std std-ref">Verbosity mode</span></a>.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">bool</span></code></p></li>
<li><p><strong>default</strong>: <code class="docutils literal notranslate"><span class="pre">True</span></code></p></li>
</ul>
</div></blockquote>
</dd></dl>

</div></blockquote>
</div>
<div class="section" id="attributes">
<h3>Attributes<a class="headerlink" href="#attributes" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><dl class="attribute">
<dt id="DNNLikelihood.Sampler.backend">
<code class="sig-prename descclassname">DNNLikelihood.Sampler.</code><code class="sig-name descname">backend</code><a class="headerlink" href="#DNNLikelihood.Sampler.backend" title="Permalink to this definition">¶</a></dt>
<dd><p>An <code class="docutils literal notranslate"><span class="pre">emcee.Backends</span></code> object (see the <a href="https://emcee.readthedocs.io/en/stable/user/backends/"  target="_blank"> emcee.Backends</a> documentation for details).
It is initialized (either from scratch or through an existing file) by the
<a class="reference internal" href="#DNNLikelihood.Sampler._Sampler__init_backend" title="DNNLikelihood.Sampler._Sampler__init_backend"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.__init_backend</span></code></a> method.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">emcee.Backends</span></code> object</p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="attribute">
<dt id="DNNLikelihood.Sampler.sampler_output_backend_file">
<code class="sig-prename descclassname">DNNLikelihood.Sampler.</code><code class="sig-name descname">sampler_output_backend_file</code><a class="headerlink" href="#DNNLikelihood.Sampler.sampler_output_backend_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Name (with absolute path) of the <a href="https://emcee.rhttps://emcee.readthedocs.io/en/stable/"  target="_blank"> emcee</a> HDF5 backend file.
It is set to <a class="reference internal" href="#DNNLikelihood.Sampler.output_folder" title="DNNLikelihood.Sampler.output_folder"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.output_folder</span></code></a> <code class="docutils literal notranslate"><span class="pre">+</span> <span class="pre">&quot;_backend.h5&quot;</span></code>.
See the <a href="https://emcee.readthedocs.io/en/stable/user/backends/"  target="_blank"> emcee.Backends</a> documentation for details about the <code class="docutils literal notranslate"><span class="pre">emcee.Backends</span></code> object.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">str</span></code></p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="attribute">
<dt id="DNNLikelihood.Sampler.figure_files_base_path">
<code class="sig-prename descclassname">DNNLikelihood.Sampler.</code><code class="sig-name descname">figure_files_base_path</code><a class="headerlink" href="#DNNLikelihood.Sampler.figure_files_base_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Absolute path to the exported figures. It includes the base figure name and is
automatically generated from the
<a class="reference internal" href="#DNNLikelihood.Sampler.output_folder" title="DNNLikelihood.Sampler.output_folder"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.output_folder</span></code></a> and
<a class="reference internal" href="#DNNLikelihood.Sampler.name" title="DNNLikelihood.Sampler.name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.name</span></code></a> attributes.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">str</span></code></p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="attribute">
<dt id="DNNLikelihood.Sampler.figures_list">
<code class="sig-prename descclassname">DNNLikelihood.Sampler.</code><code class="sig-name descname">figures_list</code><a class="headerlink" href="#DNNLikelihood.Sampler.figures_list" title="Permalink to this definition">¶</a></dt>
<dd><p>List of absolute paths to the generated figures.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">list</span></code> of <code class="docutils literal notranslate"><span class="pre">str</span></code></p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="attribute">
<dt id="DNNLikelihood.Sampler.generic_pars_labels">
<code class="sig-prename descclassname">DNNLikelihood.Sampler.</code><code class="sig-name descname">generic_pars_labels</code><a class="headerlink" href="#DNNLikelihood.Sampler.generic_pars_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>List containing parameters names automatically generated by the function
<a class="reference internal" href="utils.html#DNNLikelihood.utils.define_generic_pars_labels" title="DNNLikelihood.utils.define_generic_pars_labels"><code class="xref py py-func docutils literal notranslate"><span class="pre">utils.define_generic_pars_labels</span></code></a>.
All parameters of interest are named <code class="docutils literal notranslate"><span class="pre">r&quot;$\theta_{i}$&quot;</span></code> with <code class="docutils literal notranslate"><span class="pre">i</span></code> ranging between
one to the number of parameters of interest and all nuisance parameters are named
<code class="docutils literal notranslate"><span class="pre">r&quot;$\nu_{j}$&quot;</span></code> with <code class="docutils literal notranslate"><span class="pre">j</span></code> ranging between one to the number of nuisance parameters.
Parameters labels are always used as “raw” strings (like, for instance, <code class="docutils literal notranslate"><span class="pre">r&quot;%s&quot;%generic_pars_labels[0]</span></code>)
and can contain latex expressions that are properly compiled when making plots.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">list</span></code></p></li>
<li><p><strong>shape</strong>: <code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">]</span></code></p></li>
<li><p><strong>length</strong>: <code class="docutils literal notranslate"><span class="pre">n_pars</span></code></p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="attribute">
<dt id="DNNLikelihood.Sampler.likelihood_script_file">
<code class="sig-prename descclassname">DNNLikelihood.Sampler.</code><code class="sig-name descname">likelihood_script_file</code><a class="headerlink" href="#DNNLikelihood.Sampler.likelihood_script_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Absolute path to the .py script containing the code necessary to intantiate a
<a class="reference internal" href="likelihood.html#DNNLikelihood.Likelihood" title="DNNLikelihood.Likelihood"><code class="xref py py-class docutils literal notranslate"><span class="pre">Likelihood</span></code></a> object and define the corresponing parameters.
The <a class="reference internal" href="#DNNLikelihood.Sampler._Sampler__init_likelihood" title="DNNLikelihood.Sampler._Sampler__init_likelihood"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.__init_likelihood</span></code></a> method
loads it as a module, which instantiate a <a class="reference internal" href="likelihood.html#DNNLikelihood.Likelihood" title="DNNLikelihood.Likelihood"><code class="xref py py-class docutils literal notranslate"><span class="pre">Likelihood</span></code></a> object
and defines parameters and logpdf.
See the <a class="reference internal" href="#DNNLikelihood.Sampler.__init__" title="DNNLikelihood.Sampler.__init__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.__init__</span></code></a> method for details on how the attribute
is set.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">str</span></code> or <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><strong>default</strong>: <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="attribute">
<dt id="DNNLikelihood.Sampler.log">
<code class="sig-prename descclassname">DNNLikelihood.Sampler.</code><code class="sig-name descname">log</code><a class="headerlink" href="#DNNLikelihood.Sampler.log" title="Permalink to this definition">¶</a></dt>
<dd><p>Dictionary containing a log of the <a class="reference internal" href="#DNNLikelihood.Sampler" title="DNNLikelihood.Sampler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sampler</span></code></a> object calls. The dictionary has datetime
strings as keys and actions as values. Actions are also dictionaries, containing details of the methods calls.</p>
<blockquote>
<div><ul>
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">dict</span></code></p></li>
<li><p><strong>keys</strong>: <code class="docutils literal notranslate"><span class="pre">datetime.now().strftime(&quot;%Y-%m-%d-%H-%M-%S.%fZ&quot;)[:-3]</span></code></p></li>
<li><p><strong>values</strong>: <code class="docutils literal notranslate"><span class="pre">dict</span></code> with the following structure:</p>
<blockquote>
<div><ul class="simple">
<li><dl class="simple">
<dt><em>“action”</em> (value type: <code class="docutils literal notranslate"><span class="pre">str</span></code>)</dt><dd><p>Short description of the action.
<strong>possible values</strong>: <code class="docutils literal notranslate"><span class="pre">&quot;created&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;loaded&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;created</span> <span class="pre">backend&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;loaded</span> <span class="pre">backend&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;init</span> <span class="pre">sampler&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;run</span> <span class="pre">sampler&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;saved&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;computed</span> <span class="pre">Gelman-Rubin&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;saved</span> <span class="pre">figure&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;created</span> <span class="pre">data</span> <span class="pre">object&quot;</span></code>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><em>“pars”</em> (value type: <code class="docutils literal notranslate"><span class="pre">list</span></code> of <code class="docutils literal notranslate"><span class="pre">int</span></code>)</dt><dd><p><code class="docutils literal notranslate"><span class="pre">pars</span></code> involved in the corresponding action.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><em>“available steps”</em> (value type: <code class="docutils literal notranslate"><span class="pre">int</span></code>)</dt><dd><p>Number of steps available in backend.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><em>“nsteps”</em> (value type: <code class="docutils literal notranslate"><span class="pre">int</span></code>)</dt><dd><p><code class="docutils literal notranslate"><span class="pre">nsteps</span></code> involved of the corresponding action.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><em>“file name”</em> (value type: <code class="docutils literal notranslate"><span class="pre">str</span></code>)</dt><dd><p>File name of file involved in the action.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><em>“file path”</em> (value type: <code class="docutils literal notranslate"><span class="pre">str</span></code>)</dt><dd><p>Path of file involved in the action.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><em>“files names”</em> (value type: <code class="docutils literal notranslate"><span class="pre">list</span></code> of <code class="docutils literal notranslate"><span class="pre">str</span></code>)</dt><dd><p>List of file names of files involved in the action.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><em>“files paths”</em> (value type: <code class="docutils literal notranslate"><span class="pre">list</span></code> of <code class="docutils literal notranslate"><span class="pre">str</span></code>)</dt><dd><p>List of paths of files involved in the action.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><em>“updated file name”</em></dt><dd><p>File name of file involved in the action.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><em>“updated file path”</em> (value type: <code class="docutils literal notranslate"><span class="pre">str</span></code>)</dt><dd><p>Path of file involved in the action.</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</li>
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">callable</span></code></p></li>
</ul>
</div></blockquote>
<ul>
<li><p><strong>Could accept</strong></p>
<blockquote>
<div><ul>
<li><p><strong>x_pars</strong></p>
<blockquote>
<div><p>Values of the parameters for which logpdf is computed.
It could be a single point in parameter space corresponding to an array with shape <code class="docutils literal notranslate"><span class="pre">(n_pars,)</span></code>
or a list of points corresponding to an array with shape <code class="docutils literal notranslate"><span class="pre">(n_points,n_pars)</span></code>.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></p></li>
<li><p><strong>possible shapes</strong>: <code class="docutils literal notranslate"><span class="pre">(n_pars,)</span></code> or <code class="docutils literal notranslate"><span class="pre">(n_points,n_pars)</span></code></p></li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
<li><p><strong>args</strong></p>
<blockquote>
<div><p>List of additional arguments required
by the <a class="reference internal" href="likelihood.html#cmdoption-arg-logpdf"><code class="xref std std-option docutils literal notranslate"><span class="pre">logpdf</span></code></a> function and passed through the <a class="reference internal" href="likelihood.html#cmdoption-arg-logpdf-args"><code class="xref std std-option docutils literal notranslate"><span class="pre">logpdf_args</span></code></a> input argument.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">list</span></code> or None</p></li>
<li><p><strong>shape of list</strong>: <code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">]</span></code></p></li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
<li><p><strong>Could return</strong></p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">float</span></code> or <code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> with shape <code class="docutils literal notranslate"><span class="pre">(n_points,)</span></code></p>
</div></blockquote>
</li>
</ul>
</dd></dl>

<dl class="attribute">
<dt>
<code class="sig-name descname">DNNLikelihood.Sampler.logpdf:</code></dt>
<dd><p>Callable function that could accept <code class="docutils literal notranslate"><span class="pre">x_pars</span></code> either as a single point in parameter space corresponding
to an array with shape <code class="docutils literal notranslate"><span class="pre">(n_pars,)</span></code> or as a list of points corresponding to an array with
shape <code class="docutils literal notranslate"><span class="pre">(n_points,n_pars)</span></code> and that returns either a <code class="docutils literal notranslate"><span class="pre">float</span></code> or a list of computed logpdf values,
depending on the input.
In case of a scalar function the attribute <a class="reference internal" href="#DNNLikelihood.Sampler.vectorize" title="DNNLikelihood.Sampler.vectorize"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.vectorize</span></code></a>
is automatically set to False.
The function could also accept additional arguments <code class="docutils literal notranslate"><span class="pre">args</span></code>, passed through the
<a class="reference internal" href="#DNNLikelihood.Sampler.logpdf_args" title="DNNLikelihood.Sampler.logpdf_args"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.logpdf_args</span></code></a> attribute.
The attribute is assigned by the <a class="reference internal" href="#DNNLikelihood.Sampler._Sampler__init_likelihood" title="DNNLikelihood.Sampler._Sampler__init_likelihood"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.__init_likelihood</span></code></a> method.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">callable</span></code></p></li>
</ul>
</div></blockquote>
<ul>
<li><p><strong>Could accept</strong></p>
<blockquote>
<div><ul>
<li><p><strong>x_par</strong></p>
<blockquote>
<div><p>Values of the parameters for which logpdf is computed.
It could be a single point in parameter space corresponding to an array with shape <code class="docutils literal notranslate"><span class="pre">(n_pars,)</span></code>
or a list of points corresponding to an array with shape <code class="docutils literal notranslate"><span class="pre">(n_points,n_pars)</span></code>.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></p></li>
<li><p><strong>possible shapes</strong>: <code class="docutils literal notranslate"><span class="pre">(n_pars,)</span></code> or <code class="docutils literal notranslate"><span class="pre">(n_points,n_pars)</span></code></p></li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
<li><p><strong>args</strong></p>
<blockquote>
<div><p>List of additional arguments required
by <code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.logpdf</span></code> and passed through the
<a class="reference internal" href="#DNNLikelihood.Sampler.logpdf_args" title="DNNLikelihood.Sampler.logpdf_args"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.logpdf_args</span></code></a> attribute.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">list</span></code> or None</p></li>
<li><p><strong>shape of list</strong>: <code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">]</span></code></p></li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
<li><p><strong>Could return</strong></p>
<blockquote>
<div><p>Value or array of values
of the logpdf.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">float</span></code> or <code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></p></li>
<li><p><strong>shape for numpy.ndarray</strong>: <code class="docutils literal notranslate"><span class="pre">(n_points,)</span></code></p></li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
</ul>
</dd></dl>

<dl class="attribute">
<dt id="DNNLikelihood.Sampler.logpdf_args">
<code class="sig-prename descclassname">DNNLikelihood.Sampler.</code><code class="sig-name descname">logpdf_args</code><a class="headerlink" href="#DNNLikelihood.Sampler.logpdf_args" title="Permalink to this definition">¶</a></dt>
<dd><p>Attribute corresponding to the input argument <a class="reference internal" href="likelihood.html#cmdoption-arg-logpdf-args"><code class="xref std std-option docutils literal notranslate"><span class="pre">logpdf_args</span></code></a>.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">list</span></code> or <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><strong>shape of list</strong>: <code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">]</span></code></p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="attribute">
<dt id="DNNLikelihood.Sampler.moves">
<code class="sig-prename descclassname">DNNLikelihood.Sampler.</code><code class="sig-name descname">moves</code><a class="headerlink" href="#DNNLikelihood.Sampler.moves" title="Permalink to this definition">¶</a></dt>
<dd><p>An <code class="docutils literal notranslate"><span class="pre">emcee.moves</span></code> object generated by evaluating the
<a class="reference internal" href="#DNNLikelihood.Sampler.moves_str" title="DNNLikelihood.Sampler.moves_str"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.moves_str</span></code></a> attribute.
See the <a href="https://emcee.readthedocs.io/en/stable/user/moves/"  target="_blank"> emcee.moves</a> documentation for details.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">emcee.moves</span></code> object</p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="attribute">
<dt id="DNNLikelihood.Sampler.moves_str">
<code class="sig-prename descclassname">DNNLikelihood.Sampler.</code><code class="sig-name descname">moves_str</code><a class="headerlink" href="#DNNLikelihood.Sampler.moves_str" title="Permalink to this definition">¶</a></dt>
<dd><p>String representing an instance to an <code class="docutils literal notranslate"><span class="pre">emcee.moves</span></code> object. If <code class="docutils literal notranslate"><span class="pre">None</span></code>
is passed, the default <code class="docutils literal notranslate"><span class="pre">emcee.moves.StretchMove()</span></code> is passed.
See the <a href="https://emcee.readthedocs.io/en/stable/user/moves/"  target="_blank"> emcee.moves</a> documentation for details.</p>
<blockquote>
<div><ul>
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">str</span></code> or <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><strong>example</strong>: <code class="docutils literal notranslate"><span class="pre">&quot;[(emcee.moves.StretchMove(0.7),</span> <span class="pre">0.2),</span> <span class="pre">(emcee.moves.GaussianMove(0.1,</span> <span class="pre">mode='random',factor=None),0.8)]&quot;</span></code></p>
<blockquote>
<div><p>This gives a move that is 20% StretchMove with parameter 0.7 and 80% GaussianMove with covariance 0.1 and mode “random” (i.e.
updating a random single parameter at each step).</p>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="attribute">
<dt id="DNNLikelihood.Sampler.name">
<code class="sig-prename descclassname">DNNLikelihood.Sampler.</code><code class="sig-name descname">name</code><a class="headerlink" href="#DNNLikelihood.Sampler.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the <a class="reference internal" href="#DNNLikelihood.Sampler" title="DNNLikelihood.Sampler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sampler</span></code></a> object. It is used to generate
output files. It is automatically generated from the corresponding attribute of the
<a class="reference internal" href="likelihood.html#DNNLikelihood.Likelihood" title="DNNLikelihood.Likelihood"><code class="xref py py-class docutils literal notranslate"><span class="pre">Likelihood</span></code></a> object used to initialize the <a class="reference internal" href="#DNNLikelihood.Sampler" title="DNNLikelihood.Sampler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sampler</span></code></a>
by the <a class="reference internal" href="#DNNLikelihood.Sampler._Sampler__init_likelihood" title="DNNLikelihood.Sampler._Sampler__init_likelihood"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.__init_likelihood</span></code></a> method
by replacing the suffix “_likelihood” with the suffix “_sampler”</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">str</span></code></p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="attribute">
<dt id="DNNLikelihood.Sampler.ndims">
<code class="sig-prename descclassname">DNNLikelihood.Sampler.</code><code class="sig-name descname">ndims</code><a class="headerlink" href="#DNNLikelihood.Sampler.ndims" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of dimensions of the input vector (i.e. number of
parameters entering in the logpdf). It is automatically set to the length of
the first point in <a class="reference internal" href="#DNNLikelihood.Sampler.pars_init_vec" title="DNNLikelihood.Sampler.pars_init_vec"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.pars_init_vec</span></code></a>.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">int</span></code></p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="attribute">
<dt id="DNNLikelihood.Sampler.new_sampler">
<code class="sig-prename descclassname">DNNLikelihood.Sampler.</code><code class="sig-name descname">new_sampler</code><a class="headerlink" href="#DNNLikelihood.Sampler.new_sampler" title="Permalink to this definition">¶</a></dt>
<dd><p>Attribute corresponding to the input argument <a class="reference internal" href="#cmdoption-arg-new-sampler"><code class="xref std std-option docutils literal notranslate"><span class="pre">new_sampler</span></code></a>.
If it is <code class="docutils literal notranslate"><span class="pre">True</span></code> a new <a class="reference internal" href="#DNNLikelihood.Sampler" title="DNNLikelihood.Sampler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sampler</span></code></a> object, corresponding to a new
<a class="reference internal" href="#DNNLikelihood.Sampler.backend" title="DNNLikelihood.Sampler.backend"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.backend</span></code></a> is generated.
If it is <code class="docutils literal notranslate"><span class="pre">False</span></code> the <a class="reference internal" href="#DNNLikelihood.Sampler" title="DNNLikelihood.Sampler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sampler</span></code></a> object
is loaded from saved files, or, if a backend file is not found <code class="docutils literal notranslate"><span class="pre">new_sampler</span></code> is automatically set to <code class="docutils literal notranslate"><span class="pre">True</span></code>
and a new one is created.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">bool</span></code></p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="attribute">
<dt id="DNNLikelihood.Sampler.nsteps">
<code class="sig-prename descclassname">DNNLikelihood.Sampler.</code><code class="sig-name descname">nsteps</code><a class="headerlink" href="#DNNLikelihood.Sampler.nsteps" title="Permalink to this definition">¶</a></dt>
<dd><p>Attribute corresponding to the input argument <a class="reference internal" href="#cmdoption-arg-nsteps"><code class="xref std std-option docutils literal notranslate"><span class="pre">nsteps</span></code></a> and representing the
number of MCMC steps to run. When an existing <a class="reference internal" href="#DNNLikelihood.Sampler.backend" title="DNNLikelihood.Sampler.backend"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.backend</span></code></a> is loaded
if the value of the input argument <a class="reference internal" href="#cmdoption-arg-nsteps"><code class="xref std std-option docutils literal notranslate"><span class="pre">nsteps</span></code></a> is smaller than the number of steps available, then
<a class="reference internal" href="#DNNLikelihood.Sampler.nsteps" title="DNNLikelihood.Sampler.nsteps"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.nsteps</span></code></a> is automatically updated to the available steps.
The attribute always represents the final number of steps, so if
the number of existing steps is not zero, the sampling will only run until it reaches
<a class="reference internal" href="#DNNLikelihood.Sampler.nsteps" title="DNNLikelihood.Sampler.nsteps"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.nsteps</span></code></a>.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">int</span></code></p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="attribute">
<dt id="DNNLikelihood.Sampler.nwalkers">
<code class="sig-prename descclassname">DNNLikelihood.Sampler.</code><code class="sig-name descname">nwalkers</code><a class="headerlink" href="#DNNLikelihood.Sampler.nwalkers" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of walkers (equivalent of chains
for Ensamble Sampler MCMC). It is automatically set to the length of
<a class="reference internal" href="#DNNLikelihood.Sampler.pars_init_vec" title="DNNLikelihood.Sampler.pars_init_vec"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.pars_init_vec</span></code></a> vector.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">int</span></code></p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="attribute">
<dt id="DNNLikelihood.Sampler.output_folder">
<code class="sig-prename descclassname">DNNLikelihood.Sampler.</code><code class="sig-name descname">output_folder</code><a class="headerlink" href="#DNNLikelihood.Sampler.output_folder" title="Permalink to this definition">¶</a></dt>
<dd><p>Absolute path to the folder where all output files are saved.
It is automatically set to the corresponding attribute of the <code class="xref py py-class docutils literal notranslate"><span class="pre">Likelihood</span></code> by the
<a class="reference internal" href="#DNNLikelihood.Sampler._Sampler__init_likelihood" title="DNNLikelihood.Sampler._Sampler__init_likelihood"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.__init_likelihood</span></code></a> method.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">str</span></code></p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="attribute">
<dt id="DNNLikelihood.Sampler.parallel_CPU">
<code class="sig-prename descclassname">DNNLikelihood.Sampler.</code><code class="sig-name descname">parallel_CPU</code><a class="headerlink" href="#DNNLikelihood.Sampler.parallel_CPU" title="Permalink to this definition">¶</a></dt>
<dd><p>Attribute corresponding to the input argument <a class="reference internal" href="#cmdoption-arg-parallel-cpu"><code class="xref std std-option docutils literal notranslate"><span class="pre">parallel_CPU</span></code></a>.
If <code class="docutils literal notranslate"><span class="pre">True</span></code> the MCMC is run in parallel on the available CPU cores, otherwise only a single core is used.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">bool</span></code></p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="attribute">
<dt id="DNNLikelihood.Sampler.pars_init_vec">
<code class="sig-prename descclassname">DNNLikelihood.Sampler.</code><code class="sig-name descname">pars_init_vec</code><a class="headerlink" href="#DNNLikelihood.Sampler.pars_init_vec" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Array of points with parameters initialization for each
walker.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></p></li>
<li><p><strong>shape</strong>: <code class="docutils literal notranslate"><span class="pre">(nwalkers,n_pars)</span></code></p></li>
</ul>
</div></blockquote>
</div></blockquote>
<dl class="attribute">
<dt id="DNNLikelihood.Sampler.pars_labels">
<code class="sig-name descname">pars_labels</code><a class="headerlink" href="#DNNLikelihood.Sampler.pars_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>List containing parameters names as strings.
It is automatically set to the corresponding attribute of the <code class="xref py py-class docutils literal notranslate"><span class="pre">Likelihood</span></code> by the
<a class="reference internal" href="#DNNLikelihood.Sampler._Sampler__init_likelihood" title="DNNLikelihood.Sampler._Sampler__init_likelihood"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.__init_likelihood</span></code></a> method.
Parameters labels are always parsed as “raw” strings (like, for instance, <code class="docutils literal notranslate"><span class="pre">r&quot;%s&quot;%pars_labels[0]</span></code>)
and can contain latex expressions that are properly compiled when making plots.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">list</span></code></p></li>
<li><p><strong>shape</strong>: <code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">]</span></code></p></li>
<li><p><strong>length</strong>: <code class="docutils literal notranslate"><span class="pre">n_pars</span></code></p></li>
</ul>
</div></blockquote>
</dd></dl>

</dd></dl>

<dl class="attribute">
<dt id="DNNLikelihood.Sampler.pars_pos_nuis">
<code class="sig-prename descclassname">DNNLikelihood.Sampler.</code><code class="sig-name descname">pars_pos_nuis</code><a class="headerlink" href="#DNNLikelihood.Sampler.pars_pos_nuis" title="Permalink to this definition">¶</a></dt>
<dd><p><a href="https://docs.scipy.org/doc/numpy/index.html"  target="_blank"> Numpy</a> array containing the positions in the parameters list of the nuisance parameters.
It is automatically set to the corresponding attribute of the <code class="xref py py-class docutils literal notranslate"><span class="pre">Likelihood</span></code> by the
<a class="reference internal" href="#DNNLikelihood.Sampler._Sampler__init_likelihood" title="DNNLikelihood.Sampler._Sampler__init_likelihood"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.__init_likelihood</span></code></a> method.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></p></li>
<li><p><strong>shape</strong>: <code class="docutils literal notranslate"><span class="pre">(n_nuis,)</span></code></p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="attribute">
<dt id="DNNLikelihood.Sampler.pars_pos_poi">
<code class="sig-prename descclassname">DNNLikelihood.Sampler.</code><code class="sig-name descname">pars_pos_poi</code><a class="headerlink" href="#DNNLikelihood.Sampler.pars_pos_poi" title="Permalink to this definition">¶</a></dt>
<dd><p><a href="https://docs.scipy.org/doc/numpy/index.html"  target="_blank"> Numpy</a> array containing the positions in the parameters list of the parameters of interest.
It is automatically set to the corresponding attribute of the <code class="xref py py-class docutils literal notranslate"><span class="pre">Likelihood</span></code> by the
<a class="reference internal" href="#DNNLikelihood.Sampler._Sampler__init_likelihood" title="DNNLikelihood.Sampler._Sampler__init_likelihood"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.__init_likelihood</span></code></a> method.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></p></li>
<li><p><strong>shape</strong>: <code class="docutils literal notranslate"><span class="pre">(n_poi,)</span></code></p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="attribute">
<dt id="DNNLikelihood.Sampler.sampler">
<code class="sig-prename descclassname">DNNLikelihood.Sampler.</code><code class="sig-name descname">sampler</code><a class="headerlink" href="#DNNLikelihood.Sampler.sampler" title="Permalink to this definition">¶</a></dt>
<dd><p>An <code class="docutils literal notranslate"><span class="pre">emcee.EnsembleSampler</span></code> object (see the <a href="https://emcee.readthedocs.io/en/stable/user/sampler/#emcee.EnsembleSampler"  target="_blank"> emcee.EnsembleSampler</a> documentation for details).
It is initialized by the :meth:<a href="#id3"><span class="problematic" id="id4">`</span></a>Sampler.__init_sampler &lt;DNNLikelihood.Sampler._Sampler__init_sampler&gt;
method.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">emcee.EnsembleSampler</span></code> object</p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="attribute">
<dt id="DNNLikelihood.Sampler.sampler_input_file">
<code class="sig-prename descclassname">DNNLikelihood.Sampler.</code><code class="sig-name descname">sampler_input_file</code><a class="headerlink" href="#DNNLikelihood.Sampler.sampler_input_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Attribute corresponding to the input argument <a class="reference internal" href="#cmdoption-arg-sampler-input-file"><code class="xref std std-option docutils literal notranslate"><span class="pre">sampler_input_file</span></code></a>.
Whenever the <a class="reference internal" href="#DNNLikelihood.Sampler.new_sampler" title="DNNLikelihood.Sampler.new_sampler"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.new_sampler</span></code></a> attribute is <code class="docutils literal notranslate"><span class="pre">False</span></code>,
it is used to reconstructed the object from input files
(see the <a class="reference internal" href="#DNNLikelihood.Sampler.__init__" title="DNNLikelihood.Sampler.__init__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.__init__</span></code></a>
method for details).</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">str</span></code> or <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="attribute">
<dt id="DNNLikelihood.Sampler.sampler_output_json_file">
<code class="sig-prename descclassname">DNNLikelihood.Sampler.</code><code class="sig-name descname">sampler_output_json_file</code><a class="headerlink" href="#DNNLikelihood.Sampler.sampler_output_json_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Absolute path to the .json file where part of the <a class="reference internal" href="#DNNLikelihood.Sampler" title="DNNLikelihood.Sampler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sampler</span></code></a>
object is saved (see the <a class="reference internal" href="#DNNLikelihood.Sampler.save_sampler_json" title="DNNLikelihood.Sampler.save_sampler_json"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.save_sampler_json</span></code></a>
method for details).
This is automatically generated from the
<a class="reference internal" href="#DNNLikelihood.Sampler.output_folder" title="DNNLikelihood.Sampler.output_folder"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.output_folder</span></code></a> and
<a class="reference internal" href="#DNNLikelihood.Sampler.name" title="DNNLikelihood.Sampler.name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.name</span></code></a> attributes.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">str</span></code></p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="attribute">
<dt id="DNNLikelihood.Sampler.sampler_output_log_file">
<code class="sig-prename descclassname">DNNLikelihood.Sampler.</code><code class="sig-name descname">sampler_output_log_file</code><a class="headerlink" href="#DNNLikelihood.Sampler.sampler_output_log_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Absolute path to the .log file where the <a class="reference internal" href="#DNNLikelihood.Sampler.log" title="DNNLikelihood.Sampler.log"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.log</span></code></a> attribute
is saved (see the <a class="reference internal" href="#DNNLikelihood.Sampler.save_sampler_log" title="DNNLikelihood.Sampler.save_sampler_log"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.save_sampler_log</span></code></a>
method for details).
This is automatically generated from the
<a class="reference internal" href="#DNNLikelihood.Sampler.output_folder" title="DNNLikelihood.Sampler.output_folder"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.output_folder</span></code></a> and
<a class="reference internal" href="#DNNLikelihood.Sampler.name" title="DNNLikelihood.Sampler.name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.name</span></code></a> attributes.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">str</span></code></p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="attribute">
<dt id="DNNLikelihood.Sampler.vectorize">
<code class="sig-prename descclassname">DNNLikelihood.Sampler.</code><code class="sig-name descname">vectorize</code><a class="headerlink" href="#DNNLikelihood.Sampler.vectorize" title="Permalink to this definition">¶</a></dt>
<dd><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, the function <code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.logpdf</span></code> is expected to accept a list of
points and to return a list of logpdf values. When it is set to <code class="docutils literal notranslate"><span class="pre">True</span></code> the
<a class="reference internal" href="#DNNLikelihood.Sampler._Sampler__check_vectorize" title="DNNLikelihood.Sampler._Sampler__check_vectorize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.__check_vectorize</span></code></a> checks the consistency by
calling <code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.logpdf</span></code> on an array of points and, in case it fails,
it sets <a class="reference internal" href="#DNNLikelihood.Sampler.vectorize" title="DNNLikelihood.Sampler.vectorize"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.vectorize</span></code></a> to <code class="docutils literal notranslate"><span class="pre">False</span></code>.
When it is <code class="docutils literal notranslate"><span class="pre">True</span></code>, the <a class="reference internal" href="#DNNLikelihood.Sampler.parallel_CPU" title="DNNLikelihood.Sampler.parallel_CPU"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.parallel_CPU</span></code></a>
attribute is automatically set to <code class="docutils literal notranslate"><span class="pre">False</span></code>.
See the <a href="https://emcee.readthedocs.io/en/stable/user/sampler/#emcee.EnsembleSampler"  target="_blank"> emcee.EnsembleSampler</a> documentation for more details.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">bool</span></code></p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="attribute">
<dt id="DNNLikelihood.Sampler.verbose">
<code class="sig-prename descclassname">DNNLikelihood.Sampler.</code><code class="sig-name descname">verbose</code><a class="headerlink" href="#DNNLikelihood.Sampler.verbose" title="Permalink to this definition">¶</a></dt>
<dd><p>Attribute corresponding to the input argument <a class="reference internal" href="#cmdoption-arg-verbose"><code class="xref std std-option docutils literal notranslate"><span class="pre">verbose</span></code></a>.
It represents the verbosity mode of the
<a class="reference internal" href="#DNNLikelihood.Sampler.__init__" title="DNNLikelihood.Sampler.__init__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.__init__</span></code></a>
method and the default verbosity mode of all class methods that accept a
<code class="docutils literal notranslate"><span class="pre">verbose</span></code> argument.
See <a class="reference internal" href="show_prints.html#verbosity-mode"><span class="std std-ref">Verbosity mode</span></a>.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">bool</span></code> or <code class="docutils literal notranslate"><span class="pre">int</span></code></p></li>
</ul>
</div></blockquote>
</dd></dl>

</div></blockquote>
</div>
<div class="section" id="methods">
<h3>Methods<a class="headerlink" href="#methods" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><dl class="method">
<dt id="DNNLikelihood.Sampler.__init__">
<code class="sig-prename descclassname">Sampler.</code><code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">new_sampler=None</em>, <em class="sig-param">likelihood_script_file=None</em>, <em class="sig-param">likelihood=None</em>, <em class="sig-param">nsteps=None</em>, <em class="sig-param">moves_str=None</em>, <em class="sig-param">parallel_CPU=None</em>, <em class="sig-param">vectorize=None</em>, <em class="sig-param">sampler_input_file=None</em>, <em class="sig-param">verbose=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/DNNLikelihood/sampler.html#Sampler.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#DNNLikelihood.Sampler.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="#DNNLikelihood.Sampler" title="DNNLikelihood.Sampler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sampler</span></code></a> object can be initialized in two different ways, depending on the value of
the <a class="reference internal" href="#cmdoption-arg-new-sampler"><code class="xref std std-option docutils literal notranslate"><span class="pre">new_sampler</span></code></a> argument.</p>
<p>1. <code class="docutils literal notranslate"><span class="pre">new_sampler=True</span></code>: all attributes are set from input arguments. The
<a class="reference internal" href="#DNNLikelihood.Sampler.likelihood_script_file" title="DNNLikelihood.Sampler.likelihood_script_file"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.likelihood_script_file</span></code></a> attribute is set from
from <code class="docutils literal notranslate"><span class="pre">likelihood_script_file</span></code> input if given, otherwise from <code class="docutils literal notranslate"><span class="pre">likelihood</span></code> input if given, otherwise from
<code class="docutils literal notranslate"><span class="pre">sampler_input_file</span></code>. Afterwards the <a class="reference internal" href="#DNNLikelihood.Sampler._Sampler__init_likelihood" title="DNNLikelihood.Sampler._Sampler__init_likelihood"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.__init_likelihood</span></code></a>
method is called.</p>
<p>2. <code class="docutils literal notranslate"><span class="pre">new_sampler=False</span></code>: the <a class="reference internal" href="#DNNLikelihood.Sampler.sampler_input_file" title="DNNLikelihood.Sampler.sampler_input_file"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.sampler_input_file</span></code></a>
attribute is set from <code class="docutils literal notranslate"><span class="pre">sampler_input_file</span></code> if given, otherwise from <code class="docutils literal notranslate"><span class="pre">likelihood_script_file</span></code> input if given,
otherwise from <code class="docutils literal notranslate"><span class="pre">likelihood</span></code>. Arguments are set from
<a class="reference internal" href="#DNNLikelihood.Sampler.sampler_input_file" title="DNNLikelihood.Sampler.sampler_input_file"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.sampler_input_file</span></code></a>. Afterwards the
<a class="reference internal" href="#DNNLikelihood.Sampler._Sampler__init_likelihood" title="DNNLikelihood.Sampler._Sampler__init_likelihood"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.__init_likelihood</span></code></a>
method is called. If the import fails <a class="reference internal" href="#DNNLikelihood.Sampler.__init__" title="DNNLikelihood.Sampler.__init__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.__init__</span></code></a>
proceeds with <code class="docutils literal notranslate"><span class="pre">new_sampler=True</span></code> (see 1.).</p>
<p>Attributes that are always set from input arguments (if they are not <code class="docutils literal notranslate"><span class="pre">None</span></code>)</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler.new_sampler" title="DNNLikelihood.Sampler.new_sampler"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.new_sampler</span></code></a></p></li>
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler.new_sampler" title="DNNLikelihood.Sampler.new_sampler"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.nsteps</span></code></a></p></li>
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler.new_sampler" title="DNNLikelihood.Sampler.new_sampler"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.moves_str</span></code></a></p></li>
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler.new_sampler" title="DNNLikelihood.Sampler.new_sampler"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.parallel_CPU</span></code></a></p></li>
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler.vectorize" title="DNNLikelihood.Sampler.vectorize"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.vectorize</span></code></a></p></li>
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler.verbose" title="DNNLikelihood.Sampler.verbose"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.verbose</span></code></a></p></li>
</ul>
</div></blockquote>
<p>Attributes that are set from <a class="reference internal" href="#DNNLikelihood.Sampler.sampler_input_file" title="DNNLikelihood.Sampler.sampler_input_file"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.sampler_input_file</span></code></a>
if <code class="docutils literal notranslate"><span class="pre">new_sampler=False</span></code>:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler.name" title="DNNLikelihood.Sampler.name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.name</span></code></a></p></li>
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler.likelihood_script_file" title="DNNLikelihood.Sampler.likelihood_script_file"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.likelihood_script_file</span></code></a></p></li>
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler.nsteps" title="DNNLikelihood.Sampler.nsteps"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.nsteps</span></code></a> (if not given as input)</p></li>
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler.moves_str" title="DNNLikelihood.Sampler.moves_str"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.moves_str</span></code></a> (if not given as input)</p></li>
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler.parallel_CPU" title="DNNLikelihood.Sampler.parallel_CPU"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.parallel_CPU</span></code></a> (if not given as input)</p></li>
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler.vectorize" title="DNNLikelihood.Sampler.vectorize"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.vectorize</span></code></a> (if not given as input)</p></li>
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler.log" title="DNNLikelihood.Sampler.log"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.log</span></code></a></p></li>
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler.figures_list" title="DNNLikelihood.Sampler.figures_list"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.figures_list</span></code></a></p></li>
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler.output_folder" title="DNNLikelihood.Sampler.output_folder"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.output_folder</span></code></a></p></li>
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler.sampler_output_json_file" title="DNNLikelihood.Sampler.sampler_output_json_file"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.sampler_output_json_file</span></code></a></p></li>
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler.sampler_output_log_file" title="DNNLikelihood.Sampler.sampler_output_log_file"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.sampler_output_log_file</span></code></a></p></li>
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler.sampler_output_backend_file" title="DNNLikelihood.Sampler.sampler_output_backend_file"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.sampler_output_backend_file</span></code></a></p></li>
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler.figure_files_base_path" title="DNNLikelihood.Sampler.figure_files_base_path"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.figure_files_base_path</span></code></a></p></li>
</ul>
</div></blockquote>
<p>Attributes that are set by <a class="reference internal" href="#DNNLikelihood.Sampler._Sampler__init_likelihood" title="DNNLikelihood.Sampler._Sampler__init_likelihood"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.__init_likelihood</span></code></a>:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler.name" title="DNNLikelihood.Sampler.name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.name</span></code></a> (if not imported from <a class="reference internal" href="#DNNLikelihood.Sampler.sampler_input_file" title="DNNLikelihood.Sampler.sampler_input_file"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.sampler_input_file</span></code></a>)</p></li>
<li><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.logpdf</span></code></p></li>
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler.logpdf_args" title="DNNLikelihood.Sampler.logpdf_args"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.logpdf_args</span></code></a></p></li>
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler.pars_pos_poi" title="DNNLikelihood.Sampler.pars_pos_poi"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.pars_pos_poi</span></code></a></p></li>
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler.pars_pos_nuis" title="DNNLikelihood.Sampler.pars_pos_nuis"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.pars_pos_nuis</span></code></a></p></li>
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler.pars_init_vec" title="DNNLikelihood.Sampler.pars_init_vec"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.pars_init_vec</span></code></a></p></li>
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler.pars_labels" title="DNNLikelihood.Sampler.pars_labels"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.pars_labels</span></code></a></p></li>
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler.generic_pars_labels" title="DNNLikelihood.Sampler.generic_pars_labels"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.generic_pars_labels</span></code></a></p></li>
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler.output_folder" title="DNNLikelihood.Sampler.output_folder"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.output_folder</span></code></a> (if not imported from <a class="reference internal" href="#DNNLikelihood.Sampler.sampler_input_file" title="DNNLikelihood.Sampler.sampler_input_file"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.sampler_input_file</span></code></a>)</p></li>
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler.nwalkers" title="DNNLikelihood.Sampler.nwalkers"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.nwalkers</span></code></a></p></li>
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler.ndims" title="DNNLikelihood.Sampler.ndims"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.ndims</span></code></a></p></li>
</ul>
</div></blockquote>
<p>Attributes that are set after <a class="reference internal" href="#DNNLikelihood.Sampler._Sampler__init_likelihood" title="DNNLikelihood.Sampler._Sampler__init_likelihood"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.__init_likelihood</span></code></a> :</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler.backend" title="DNNLikelihood.Sampler.backend"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.backend</span></code></a> (set by <a class="reference internal" href="#DNNLikelihood.Sampler._Sampler__init_backend" title="DNNLikelihood.Sampler._Sampler__init_backend"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.__init_backend</span></code></a>)</p></li>
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler.sampler" title="DNNLikelihood.Sampler.sampler"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.sampler</span></code></a> (set by <a class="reference internal" href="#DNNLikelihood.Sampler._Sampler__init_backend" title="DNNLikelihood.Sampler._Sampler__init_backend"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.__init_backend</span></code></a>)</p></li>
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler.moves" title="DNNLikelihood.Sampler.moves"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.moves</span></code></a> (set by evaluating <a class="reference internal" href="#DNNLikelihood.Sampler.moves_str" title="DNNLikelihood.Sampler.moves_str"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.moves_str</span></code></a>)</p></li>
</ul>
</div></blockquote>
<p>Checks done by <a class="reference internal" href="#DNNLikelihood.Sampler.__init__" title="DNNLikelihood.Sampler.__init__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.__init__</span></code></a> :</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler._Sampler__check_vectorize" title="DNNLikelihood.Sampler._Sampler__check_vectorize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.__check_vectorize</span></code></a>: checks consistency between <a class="reference internal" href="#DNNLikelihood.Sampler.vectorize" title="DNNLikelihood.Sampler.vectorize"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.vectorize</span></code></a> and <code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.logpdf</span></code></p></li>
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler._Sampler__check_params_backend" title="DNNLikelihood.Sampler._Sampler__check_params_backend"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.__check_params_backend</span></code></a> check consistency of parameters in the backend</p></li>
</ul>
</div></blockquote>
<ul>
<li><p><strong>Arguments</strong></p>
<blockquote>
<div><p>See Class arguments.</p>
</div></blockquote>
</li>
<li><p><strong>Produces file</strong></p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler.sampler_output_log_file" title="DNNLikelihood.Sampler.sampler_output_log_file"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.sampler_output_log_file</span></code></a></p></li>
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler.sampler_output_json_file" title="DNNLikelihood.Sampler.sampler_output_json_file"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.sampler_output_json_file</span></code></a></p></li>
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler.sampler_output_backend_file" title="DNNLikelihood.Sampler.sampler_output_backend_file"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.sampler_output_backend_file</span></code></a></p></li>
</ul>
</div></blockquote>
</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="DNNLikelihood.Sampler._Sampler__get_likelihood_script_file_from_sampler_input_file">
<code class="sig-prename descclassname">Sampler.</code><code class="sig-name descname">_Sampler__get_likelihood_script_file_from_sampler_input_file</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#DNNLikelihood.Sampler._Sampler__get_likelihood_script_file_from_sampler_input_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Private method that attempts to determine the
<a class="reference internal" href="#DNNLikelihood.Sampler.likelihood_script_file" title="DNNLikelihood.Sampler.likelihood_script_file"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.likelihood_script_file</span></code></a> attribute
from the <a class="reference internal" href="#DNNLikelihood.Sampler.sampler_input_file" title="DNNLikelihood.Sampler.sampler_input_file"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.sampler_input_file</span></code></a>
attribute.</p>
</dd></dl>

<dl class="method">
<dt id="DNNLikelihood.Sampler._Sampler__get_likelihood_script_file_from_likelihood">
<code class="sig-prename descclassname">Sampler.</code><code class="sig-name descname">_Sampler__get_likelihood_script_file_from_likelihood</code><span class="sig-paren">(</span><em class="sig-param">verbose=None</em><span class="sig-paren">)</span><a class="headerlink" href="#DNNLikelihood.Sampler._Sampler__get_likelihood_script_file_from_likelihood" title="Permalink to this definition">¶</a></dt>
<dd><p>Private method that generates the
<a class="reference internal" href="#DNNLikelihood.Sampler.likelihood_script_file" title="DNNLikelihood.Sampler.likelihood_script_file"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.likelihood_script_file</span></code></a> attribute
and corresponding file from the
<code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.likelihood</span></code> attribute.</p>
<ul>
<li><p><strong>Arguments</strong></p>
<blockquote>
<div><ul>
<li><p><strong>verbose</strong></p>
<blockquote>
<div><p>Verbosity mode.
See the <a class="reference internal" href="show_prints.html#verbosity-mode"><span class="std std-ref">Verbosity mode</span></a> documentation for the general behavior.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">bool</span></code></p></li>
<li><p><strong>default</strong>: <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="DNNLikelihood.Sampler._Sampler__get_sampler_input_file_from_likelihood_script_file">
<code class="sig-prename descclassname">Sampler.</code><code class="sig-name descname">_Sampler__get_sampler_input_file_from_likelihood_script_file</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#DNNLikelihood.Sampler._Sampler__get_sampler_input_file_from_likelihood_script_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Private method that attempts to determine the
<a class="reference internal" href="#DNNLikelihood.Sampler.sampler_input_file" title="DNNLikelihood.Sampler.sampler_input_file"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.sampler_input_file</span></code></a> attribute
from the <a class="reference internal" href="#DNNLikelihood.Sampler.likelihood_script_file" title="DNNLikelihood.Sampler.likelihood_script_file"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.likelihood_script_file</span></code></a>
attribute.</p>
</dd></dl>

<dl class="method">
<dt id="DNNLikelihood.Sampler._Sampler__get_sampler_input_file_from_likelihood">
<code class="sig-prename descclassname">Sampler.</code><code class="sig-name descname">_Sampler__get_sampler_input_file_from_likelihood</code><span class="sig-paren">(</span><em class="sig-param">verbose=None</em><span class="sig-paren">)</span><a class="headerlink" href="#DNNLikelihood.Sampler._Sampler__get_sampler_input_file_from_likelihood" title="Permalink to this definition">¶</a></dt>
<dd><p>Private method that attempts to determine the
<a class="reference internal" href="#DNNLikelihood.Sampler.sampler_input_file" title="DNNLikelihood.Sampler.sampler_input_file"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.sampler_input_file</span></code></a> attribute
from the <code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.likelihood</span></code>
attribute through the <a class="reference internal" href="#DNNLikelihood.Sampler._Sampler__get_likelihood_script_file_from_likelihood" title="DNNLikelihood.Sampler._Sampler__get_likelihood_script_file_from_likelihood"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.__get_likelihood_script_file_from_likelihood</span></code></a>
and <a class="reference internal" href="#DNNLikelihood.Sampler._Sampler__get_sampler_input_file_from_likelihood_script_file" title="DNNLikelihood.Sampler._Sampler__get_sampler_input_file_from_likelihood_script_file"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.__get_sampler_input_file_from_likelihood_script_file</span></code></a>
methods.</p>
<ul>
<li><p><strong>Arguments</strong></p>
<blockquote>
<div><ul>
<li><p><strong>verbose</strong></p>
<blockquote>
<div><p>Verbosity mode.
See the <a class="reference internal" href="show_prints.html#verbosity-mode"><span class="std std-ref">Verbosity mode</span></a> documentation for the general behavior.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">bool</span></code></p></li>
<li><p><strong>default</strong>: <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="DNNLikelihood.Sampler._Sampler__init_likelihood">
<code class="sig-prename descclassname">Sampler.</code><code class="sig-name descname">_Sampler__init_likelihood</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#DNNLikelihood.Sampler._Sampler__init_likelihood" title="Permalink to this definition">¶</a></dt>
<dd><p>Private method that sets the likelihood related attributes from the
<a class="reference internal" href="#DNNLikelihood.Sampler.sampler_input_file" title="DNNLikelihood.Sampler.sampler_input_file"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.sampler_input_file</span></code></a> attribute.
It imports the latter as a module, which instantiates a <a class="reference internal" href="likelihood.html#DNNLikelihood.Likelihood" title="DNNLikelihood.Likelihood"><code class="xref py py-class docutils literal notranslate"><span class="pre">Likelihood</span></code></a>
object and defines parameters. It is used to set the attributes</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler.name" title="DNNLikelihood.Sampler.name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.name</span></code></a> (if not imported from <a class="reference internal" href="#DNNLikelihood.Sampler.sampler_input_file" title="DNNLikelihood.Sampler.sampler_input_file"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.sampler_input_file</span></code></a>)</p></li>
<li><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.logpdf</span></code></p></li>
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler.logpdf_args" title="DNNLikelihood.Sampler.logpdf_args"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.logpdf_args</span></code></a></p></li>
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler.pars_pos_poi" title="DNNLikelihood.Sampler.pars_pos_poi"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.pars_pos_poi</span></code></a></p></li>
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler.pars_pos_nuis" title="DNNLikelihood.Sampler.pars_pos_nuis"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.pars_pos_nuis</span></code></a></p></li>
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler.pars_init_vec" title="DNNLikelihood.Sampler.pars_init_vec"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.pars_init_vec</span></code></a></p></li>
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler.pars_labels" title="DNNLikelihood.Sampler.pars_labels"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.pars_labels</span></code></a></p></li>
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler.generic_pars_labels" title="DNNLikelihood.Sampler.generic_pars_labels"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.generic_pars_labels</span></code></a></p></li>
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler.output_folder" title="DNNLikelihood.Sampler.output_folder"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.output_folder</span></code></a> (if not imported from <a class="reference internal" href="#DNNLikelihood.Sampler.sampler_input_file" title="DNNLikelihood.Sampler.sampler_input_file"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.sampler_input_file</span></code></a>)</p></li>
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler.nwalkers" title="DNNLikelihood.Sampler.nwalkers"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.nwalkers</span></code></a></p></li>
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler.ndims" title="DNNLikelihood.Sampler.ndims"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.ndims</span></code></a></p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="DNNLikelihood.Sampler._Sampler__load_sampler">
<code class="sig-prename descclassname">Sampler.</code><code class="sig-name descname">_Sampler__load_sampler</code><span class="sig-paren">(</span><em class="sig-param">verbose=None</em><span class="sig-paren">)</span><a class="headerlink" href="#DNNLikelihood.Sampler._Sampler__load_sampler" title="Permalink to this definition">¶</a></dt>
<dd><p>Private method used to load
<a class="reference internal" href="#DNNLikelihood.Sampler" title="DNNLikelihood.Sampler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sampler</span></code></a> attributes from the
<code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.sampler_input_json_file</span></code> and
<code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.sampler_input_log_file</span></code> files.</p>
<ul>
<li><p><strong>Arguments</strong></p>
<blockquote>
<div><ul>
<li><p><strong>verbose</strong></p>
<blockquote>
<div><p>Verbosity mode.
See the <a class="reference internal" href="show_prints.html#verbosity-mode"><span class="std std-ref">Verbosity mode</span></a> documentation for the general behavior.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">bool</span></code></p></li>
<li><p><strong>default</strong>: <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="DNNLikelihood.Sampler._Sampler__init_backend">
<code class="sig-prename descclassname">Sampler.</code><code class="sig-name descname">_Sampler__init_backend</code><span class="sig-paren">(</span><em class="sig-param">verbose=None</em><span class="sig-paren">)</span><a class="headerlink" href="#DNNLikelihood.Sampler._Sampler__init_backend" title="Permalink to this definition">¶</a></dt>
<dd><p>Private method used to create a backend file
<a class="reference internal" href="#DNNLikelihood.Sampler.sampler_output_backend_file" title="DNNLikelihood.Sampler.sampler_output_backend_file"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.sampler_output_backend_file</span></code></a>
when <a class="reference internal" href="#DNNLikelihood.Sampler.new_sampler" title="DNNLikelihood.Sampler.new_sampler"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.new_sampler</span></code></a> is set to <code class="docutils literal notranslate"><span class="pre">True</span></code> or
to load an existig backend file <a class="reference internal" href="#DNNLikelihood.Sampler.sampler_output_backend_file" title="DNNLikelihood.Sampler.sampler_output_backend_file"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.sampler_output_backend_file</span></code></a>
when <a class="reference internal" href="#DNNLikelihood.Sampler.new_sampler" title="DNNLikelihood.Sampler.new_sampler"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.new_sampler</span></code></a> is set to <code class="docutils literal notranslate"><span class="pre">False</span></code>.
In case <a class="reference internal" href="#DNNLikelihood.Sampler.new_sampler" title="DNNLikelihood.Sampler.new_sampler"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.new_sampler</span></code></a> is set to <code class="docutils literal notranslate"><span class="pre">False</span></code> but the backend file
<a class="reference internal" href="#DNNLikelihood.Sampler.sampler_output_backend_file" title="DNNLikelihood.Sampler.sampler_output_backend_file"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.sampler_output_backend_file</span></code></a> does not exist, then
<a class="reference internal" href="#DNNLikelihood.Sampler.new_sampler" title="DNNLikelihood.Sampler.new_sampler"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.new_sampler</span></code></a> is automatically set to <code class="docutils literal notranslate"><span class="pre">True</span></code> and a new backend is created.
The method creates or loads the backend by calling the <a class="reference internal" href="#DNNLikelihood.Sampler._Sampler__init_sampler" title="DNNLikelihood.Sampler._Sampler__init_sampler"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.__init_sampler</span></code></a>
private method, which creates and runs the sampler for zero steps. This is done to properly sets both attributes
<a class="reference internal" href="#DNNLikelihood.Sampler.backend" title="DNNLikelihood.Sampler.backend"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.backend</span></code></a> and <a class="reference internal" href="#DNNLikelihood.Sampler.sampler" title="DNNLikelihood.Sampler.sampler"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.sampler</span></code></a>.</p>
<ul>
<li><p><strong>Arguments</strong></p>
<blockquote>
<div><ul>
<li><p><strong>verbose</strong></p>
<blockquote>
<div><p>Verbosity mode.
See the <a class="reference internal" href="show_prints.html#verbosity-mode"><span class="std std-ref">Verbosity mode</span></a> documentation for the general behavior.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">bool</span></code></p></li>
<li><p><strong>default</strong>: <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="DNNLikelihood.Sampler._Sampler__init_sampler">
<code class="sig-prename descclassname">Sampler.</code><code class="sig-name descname">_Sampler__init_sampler</code><span class="sig-paren">(</span><em class="sig-param">verbose=None</em><span class="sig-paren">)</span><a class="headerlink" href="#DNNLikelihood.Sampler._Sampler__init_sampler" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Private method used to initialize <a class="reference internal" href="#DNNLikelihood.Sampler.backend" title="DNNLikelihood.Sampler.backend"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.backend</span></code></a> and
<a class="reference internal" href="#DNNLikelihood.Sampler.sampler" title="DNNLikelihood.Sampler.sampler"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.sampler</span></code></a> attributes depending on the value of
<a class="reference internal" href="#DNNLikelihood.Sampler.new_sampler" title="DNNLikelihood.Sampler.new_sampler"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.new_sampler</span></code></a>.</p>
<p>1. <code class="docutils literal notranslate"><span class="pre">new_sampler=True</span></code>: a new backend is created,
walkers are initialized to <code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.pars_init</span></code>, and MCMC is run for zero
steps to properly create the backend file and initialize the sampler.</p>
<p>2. <code class="docutils literal notranslate"><span class="pre">new_sampler=False</span></code>: the existing backend is set, walkers are initialized to
to the last sample available in <a class="reference internal" href="#DNNLikelihood.Sampler.backend" title="DNNLikelihood.Sampler.backend"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.backend</span></code></a>, and MCMC is run for zero
steps to properly initialize the <a class="reference internal" href="#DNNLikelihood.Sampler.sampler" title="DNNLikelihood.Sampler.sampler"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.sampler</span></code></a> attribute.</p>
<p>The method runs the mcmc by calling the <a href="https://docs.python.org/3/library/multiprocessing.html"  target="_blank"> emcee.EnsembleSampler.run_mcmc</a> method.</p>
<ul>
<li><p><strong>Arguments</strong></p>
<blockquote>
<div><ul>
<li><p><strong>verbose</strong></p>
<blockquote>
<div><p>Verbosity mode.
See the <a class="reference internal" href="show_prints.html#verbosity-mode"><span class="std std-ref">Verbosity mode</span></a> documentation for the general behavior.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">bool</span></code></p></li>
<li><p><strong>default</strong>: <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="DNNLikelihood.Sampler._Sampler__check_vectorize">
<code class="sig-prename descclassname">Sampler.</code><code class="sig-name descname">_Sampler__check_vectorize</code><span class="sig-paren">(</span><em class="sig-param">verbose=None</em><span class="sig-paren">)</span><a class="headerlink" href="#DNNLikelihood.Sampler._Sampler__check_vectorize" title="Permalink to this definition">¶</a></dt>
<dd><p>Private method that checks consistency between the <a class="reference internal" href="#DNNLikelihood.Sampler.vectorize" title="DNNLikelihood.Sampler.vectorize"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.vectorize</span></code></a> and
<code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.logpdf</span></code> attributes. In particular, when
<a class="reference internal" href="#DNNLikelihood.Sampler.vectorize" title="DNNLikelihood.Sampler.vectorize"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.vectorize=True</span></code></a>
it tries to compute logpdf on a vector of parameters. If it fails, then it sets
<a class="reference internal" href="#DNNLikelihood.Sampler.vectorize" title="DNNLikelihood.Sampler.vectorize"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.vectorize=False</span></code></a>.
Finally, whenever <a class="reference internal" href="#DNNLikelihood.Sampler.vectorize" title="DNNLikelihood.Sampler.vectorize"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.vectorize=False</span></code></a>, the attribute
<a class="reference internal" href="#DNNLikelihood.Sampler.parallel_CPU" title="DNNLikelihood.Sampler.parallel_CPU"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.parallel_CPU</span></code></a> is set to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<ul>
<li><p><strong>Arguments</strong></p>
<blockquote>
<div><ul>
<li><p><strong>verbose</strong></p>
<blockquote>
<div><p>Verbosity mode.
See the <a class="reference internal" href="show_prints.html#verbosity-mode"><span class="std std-ref">Verbosity mode</span></a> documentation for the general behavior.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">bool</span></code></p></li>
<li><p><strong>default</strong>: <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="DNNLikelihood.Sampler._Sampler__check_params_backend">
<code class="sig-prename descclassname">Sampler.</code><code class="sig-name descname">_Sampler__check_params_backend</code><span class="sig-paren">(</span><em class="sig-param">verbose=None</em><span class="sig-paren">)</span><a class="headerlink" href="#DNNLikelihood.Sampler._Sampler__check_params_backend" title="Permalink to this definition">¶</a></dt>
<dd><p>Private method that checks consistency between the attributes
<a class="reference internal" href="#DNNLikelihood.Sampler.nwalkers" title="DNNLikelihood.Sampler.nwalkers"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.nwalkers</span></code></a> and <a class="reference internal" href="#DNNLikelihood.Sampler.ndims" title="DNNLikelihood.Sampler.ndims"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.ndims</span></code></a>
assigned by the <code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.__init_likelihood</span></code>.
It also checks if the value of <a class="reference internal" href="#DNNLikelihood.Sampler.nsteps" title="DNNLikelihood.Sampler.nsteps"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.nsteps</span></code></a> is smaller than the number
of available steps in the backend and, in such case, it sets <a class="reference internal" href="#DNNLikelihood.Sampler.nsteps" title="DNNLikelihood.Sampler.nsteps"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.nsteps</span></code></a>
equal to the number of available steps.</p>
<ul>
<li><p><strong>Arguments</strong></p>
<blockquote>
<div><ul>
<li><p><strong>verbose</strong></p>
<blockquote>
<div><p>Verbosity mode.
See the <a class="reference internal" href="show_prints.html#verbosity-mode"><span class="std std-ref">Verbosity mode</span></a> documentation for the general behavior.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">bool</span></code></p></li>
<li><p><strong>default</strong>: <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="DNNLikelihood.Sampler._Sampler__set_steps_to_run">
<code class="sig-prename descclassname">Sampler.</code><code class="sig-name descname">_Sampler__set_steps_to_run</code><span class="sig-paren">(</span><em class="sig-param">verbose=None</em><span class="sig-paren">)</span><a class="headerlink" href="#DNNLikelihood.Sampler._Sampler__set_steps_to_run" title="Permalink to this definition">¶</a></dt>
<dd><p>Private method that returns the number of steps to run computed as the difference between the value of
<a class="reference internal" href="#DNNLikelihood.Sampler.nsteps" title="DNNLikelihood.Sampler.nsteps"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.nsteps</span></code></a> and the number of steps available in
<a class="reference internal" href="#DNNLikelihood.Sampler.backend" title="DNNLikelihood.Sampler.backend"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.backend</span></code></a>.
If this difference is negative, a warning message asking to increase the value of
<a class="reference internal" href="#DNNLikelihood.Sampler.nsteps" title="DNNLikelihood.Sampler.nsteps"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.nsteps</span></code></a> is printed.</p>
<ul>
<li><p><strong>Arguments</strong></p>
<blockquote>
<div><ul>
<li><p><strong>verbose</strong></p>
<blockquote>
<div><p>Verbosity mode.
See the <a class="reference internal" href="show_prints.html#verbosity-mode"><span class="std std-ref">Verbosity mode</span></a> documentation for the general behavior.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">bool</span></code></p></li>
<li><p><strong>default</strong>: <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="DNNLikelihood.Sampler._Sampler__set_pars_labels">
<code class="sig-prename descclassname">Sampler.</code><code class="sig-name descname">_Sampler__set_pars_labels</code><span class="sig-paren">(</span><em class="sig-param">pars_labels</em><span class="sig-paren">)</span><a class="headerlink" href="#DNNLikelihood.Sampler._Sampler__set_pars_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Private method that returns the <code class="docutils literal notranslate"><span class="pre">pars_labels</span></code> choice based on the <code class="docutils literal notranslate"><span class="pre">pars_labels</span></code> input.</p>
<ul>
<li><p><strong>Arguments</strong></p>
<blockquote>
<div><ul>
<li><p><strong>pars_labels</strong></p>
<blockquote>
<div><p>Could be either one of the keyword strings <code class="docutils literal notranslate"><span class="pre">&quot;original&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;generic&quot;</span></code> or a list of labels
strings with the length of the parameters array. If <code class="docutils literal notranslate"><span class="pre">pars_labels=&quot;original&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">pars_labels=&quot;generic&quot;</span></code>
the function returns the value of <a class="reference internal" href="#DNNLikelihood.Sampler.pars_labels" title="DNNLikelihood.Sampler.pars_labels"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.pars_labels</span></code></a>
or <a class="reference internal" href="#DNNLikelihood.Sampler.generic_pars_labels" title="DNNLikelihood.Sampler.generic_pars_labels"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.generic_pars_labels</span></code></a>, respectively,
while if <code class="docutils literal notranslate"><span class="pre">pars_labels</span></code> is a list, the function just returns the input.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">list</span></code> or <code class="docutils literal notranslate"><span class="pre">str</span></code></p></li>
<li><p><strong>shape of list</strong>: <code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">]</span></code></p></li>
<li><p><strong>accepted strings</strong>: <code class="docutils literal notranslate"><span class="pre">&quot;original&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;generic&quot;</span></code></p></li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="DNNLikelihood.Sampler.run_sampler">
<code class="sig-prename descclassname">Sampler.</code><code class="sig-name descname">run_sampler</code><span class="sig-paren">(</span><em class="sig-param">verbose=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/DNNLikelihood/sampler.html#Sampler.run_sampler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#DNNLikelihood.Sampler.run_sampler" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Runs MCMC sampling. Parameters are initialized to the last last sample available in
<a class="reference internal" href="#DNNLikelihood.Sampler.backend" title="DNNLikelihood.Sampler.backend"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.backend</span></code></a> or to
<code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.pars_init</span></code> if no sample is available.</p>
<p>Depending on the value of <code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.parallel_cpu</span></code>
the sampler is run on a single core (if <code class="docutils literal notranslate"><span class="pre">False</span></code>) or in parallel using the <a href="https://docs.python.org/3/library/multiprocessing.html"  target="_blank"> multiprocessing.Pool</a> method
(if <code class="docutils literal notranslate"><span class="pre">True</span></code>). When running in parallel, the number of processes is set to the number of available (physical)
cpu cores using the <a href="https://pypi.org/project/psutil/"  target="_blank"> psutil</a> package by <code class="docutils literal notranslate"><span class="pre">n_processes</span> <span class="pre">=</span> <span class="pre">psutil.cpu_count(logical=False)</span></code>.
See the documentation of the <a href="https://emcee.readthedocs.io/en/stable/user/sampler/#emcee.EnsembleSampler"  target="_blank"> emcee.EnsembleSampler</a> class and of the <a href="https://docs.python.org/3/library/multiprocessing.html"  target="_blank"> multiprocessing</a> package
for more details on parallel sampling.</p>
<p>When using interactive python in Jupyter notebooks if <code class="docutils literal notranslate"><span class="pre">verbose=2</span></code> a progress bar is shown.</p>
<ul>
<li><p><strong>Arguments</strong></p>
<blockquote>
<div><ul>
<li><p><strong>verbose</strong></p>
<blockquote>
<div><p>Verbosity mode.
See the <a class="reference internal" href="show_prints.html#verbosity-mode"><span class="std std-ref">Verbosity mode</span></a> documentation for the general behavior.
If <code class="docutils literal notranslate"><span class="pre">verbose=2</span></code> a progress bar is shown.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">bool</span></code></p></li>
<li><p><strong>default</strong>: <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="DNNLikelihood.Sampler.save_sampler_log">
<code class="sig-prename descclassname">Sampler.</code><code class="sig-name descname">save_sampler_log</code><span class="sig-paren">(</span><em class="sig-param">overwrite=False</em>, <em class="sig-param">verbose=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/DNNLikelihood/sampler.html#Sampler.save_sampler_log"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#DNNLikelihood.Sampler.save_sampler_log" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves the content of the <a class="reference internal" href="#DNNLikelihood.Sampler.log" title="DNNLikelihood.Sampler.log"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.log</span></code></a> attribute in the file
<a class="reference internal" href="#DNNLikelihood.Sampler.sampler_output_log_file" title="DNNLikelihood.Sampler.sampler_output_log_file"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.sampler_output_log_file</span></code></a></p>
<p>This method is called by the methods</p>
<ul>
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler.run_sampler" title="DNNLikelihood.Sampler.run_sampler"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.run_sampler</span></code></a> with <code class="docutils literal notranslate"><span class="pre">overwrite=True</span></code> and <code class="docutils literal notranslate"><span class="pre">verbose=verbose_sub</span></code></p></li>
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler.save_sampler" title="DNNLikelihood.Sampler.save_sampler"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.save_sampler</span></code></a> with <code class="docutils literal notranslate"><span class="pre">overwrite=overwrite</span></code> and <code class="docutils literal notranslate"><span class="pre">verbose=verbose</span></code></p></li>
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler.get_data_object" title="DNNLikelihood.Sampler.get_data_object"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.get_data_object</span></code></a> with <code class="docutils literal notranslate"><span class="pre">overwrite=True</span></code> and <code class="docutils literal notranslate"><span class="pre">verbose=verbose_sub</span></code></p></li>
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler.gelman_rubin" title="DNNLikelihood.Sampler.gelman_rubin"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.gelman_rubin</span></code></a> with <code class="docutils literal notranslate"><span class="pre">overwrite=True</span></code> and <code class="docutils literal notranslate"><span class="pre">verbose=verbose_sub</span></code></p></li>
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler.plot_gelman_rubin" title="DNNLikelihood.Sampler.plot_gelman_rubin"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.plot_gelman_rubin</span></code></a> with <code class="docutils literal notranslate"><span class="pre">overwrite=True</span></code> and <code class="docutils literal notranslate"><span class="pre">verbose=verbose_sub</span></code></p></li>
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler.plot_dist" title="DNNLikelihood.Sampler.plot_dist"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.plot_dist</span></code></a> with <code class="docutils literal notranslate"><span class="pre">overwrite=True</span></code> and <code class="docutils literal notranslate"><span class="pre">verbose=verbose_sub</span></code></p></li>
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler.plot_autocorr" title="DNNLikelihood.Sampler.plot_autocorr"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.plot_autocorr</span></code></a> with <code class="docutils literal notranslate"><span class="pre">overwrite=True</span></code> and <code class="docutils literal notranslate"><span class="pre">verbose=verbose_sub</span></code></p></li>
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler.plot_chains" title="DNNLikelihood.Sampler.plot_chains"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.plot_chains</span></code></a> with <code class="docutils literal notranslate"><span class="pre">overwrite=True</span></code> and <code class="docutils literal notranslate"><span class="pre">verbose=verbose_sub</span></code></p></li>
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler.plot_chains" title="DNNLikelihood.Sampler.plot_chains"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.plot_chains_logpdf</span></code></a> with <code class="docutils literal notranslate"><span class="pre">overwrite=True</span></code> and <code class="docutils literal notranslate"><span class="pre">verbose=verbose_sub</span></code></p></li>
<li><p><strong>Arguments</strong></p>
<blockquote>
<div><ul>
<li><p><strong>overwrite</strong></p>
<blockquote>
<div><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code> if a file with the same name already exists, then it gets overwritten. If <code class="docutils literal notranslate"><span class="pre">False</span></code> is a file with the same name
already exists, then the old file gets renamed with the <a class="reference internal" href="utils.html#DNNLikelihood.utils.check_rename_file" title="DNNLikelihood.utils.check_rename_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">utils.check_rename_file</span></code></a>
function.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">bool</span></code></p></li>
<li><p><strong>default</strong>: <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
<li><p><strong>verbose</strong></p>
<blockquote>
<div><p>Verbosity mode.
See the <a class="reference internal" href="show_prints.html#verbosity-mode"><span class="std std-ref">Verbosity mode</span></a> documentation for the general behavior.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">bool</span></code></p></li>
<li><p><strong>default</strong>: <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
<li><p><strong>Produces file</strong></p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler.sampler_output_log_file" title="DNNLikelihood.Sampler.sampler_output_log_file"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.sampler_output_log_file</span></code></a></p></li>
</ul>
</div></blockquote>
</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="DNNLikelihood.Sampler.save_sampler_json">
<code class="sig-prename descclassname">Sampler.</code><code class="sig-name descname">save_sampler_json</code><span class="sig-paren">(</span><em class="sig-param">overwrite=False</em>, <em class="sig-param">verbose=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/DNNLikelihood/sampler.html#Sampler.save_sampler_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#DNNLikelihood.Sampler.save_sampler_json" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#DNNLikelihood.Sampler" title="DNNLikelihood.Sampler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sampler</span></code></a> objects are saved to three files: a .json, a .log, and ah .h5,
corresponding to the three attributes
<a class="reference internal" href="#DNNLikelihood.Sampler.sampler_output_json_file" title="DNNLikelihood.Sampler.sampler_output_json_file"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.sampler_output_json_file</span></code></a>,
<a class="reference internal" href="#DNNLikelihood.Sampler.sampler_output_log_file" title="DNNLikelihood.Sampler.sampler_output_log_file"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.sampler_output_log_file</span></code></a>,
and <a class="reference internal" href="#DNNLikelihood.Sampler.sampler_output_backend_file" title="DNNLikelihood.Sampler.sampler_output_backend_file"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.sampler_output_backend_file</span></code></a>.
See the <a class="reference internal" href="#DNNLikelihood.Sampler.save_sampler" title="DNNLikelihood.Sampler.save_sampler"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.save_sampler</span></code></a> method documentation
for the list of saved attributes.</p>
<p>This method is called by the
<a class="reference internal" href="#DNNLikelihood.Sampler.save_sampler" title="DNNLikelihood.Sampler.save_sampler"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.save_sampler</span></code></a> method to save the entire object.</p>
<ul>
<li><p><strong>Arguments</strong></p>
<blockquote>
<div><ul>
<li><p><strong>overwrite</strong></p>
<blockquote>
<div><p>It determines whether an existing file gets overwritten or if a new file is created.
If <code class="docutils literal notranslate"><span class="pre">overwrite=True</span></code> the <a class="reference internal" href="utils.html#DNNLikelihood.utils.check_rename_file" title="DNNLikelihood.utils.check_rename_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">utils.check_rename_file</span></code></a> is used
to append a time-stamp to the file name.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">bool</span></code></p></li>
<li><p><strong>default</strong>: <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
<li><p><strong>verbose</strong></p>
<blockquote>
<div><p>Verbosity mode.
See the <a class="reference internal" href="show_prints.html#verbosity-mode"><span class="std std-ref">Verbosity mode</span></a> documentation for the general behavior.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">bool</span></code></p></li>
<li><p><strong>default</strong>: <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
<li><p><strong>Produces file</strong></p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="likelihood.html#DNNLikelihood.Likelihood.likelihood_output_json_file" title="DNNLikelihood.Likelihood.likelihood_output_json_file"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Likelihood.likelihood_output_json_file</span></code></a></p></li>
</ul>
</div></blockquote>
</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="DNNLikelihood.Sampler.save_sampler">
<code class="sig-prename descclassname">Sampler.</code><code class="sig-name descname">save_sampler</code><span class="sig-paren">(</span><em class="sig-param">overwrite=False</em>, <em class="sig-param">verbose=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/DNNLikelihood/sampler.html#Sampler.save_sampler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#DNNLikelihood.Sampler.save_sampler" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#DNNLikelihood.Sampler" title="DNNLikelihood.Sampler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sampler</span></code></a> objects are saved according to the following table.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 3%" />
<col style="width: 52%" />
<col style="width: 45%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Saved</p></th>
<th class="head"><p>Atrributes</p></th>
<th class="head"><p>Method</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>X</p></td>
<td><p><a class="reference internal" href="#DNNLikelihood.Sampler.sampler_input_file" title="DNNLikelihood.Sampler.sampler_input_file"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.sampler_input_file</span></code></a></p>
<p><a class="reference internal" href="#DNNLikelihood.Sampler.new_sampler" title="DNNLikelihood.Sampler.new_sampler"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.new_sampler</span></code></a></p>
<p><a class="reference internal" href="#DNNLikelihood.Sampler.log" title="DNNLikelihood.Sampler.log"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.log</span></code></a></p>
<p><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.logpdf</span></code></p>
<p><a class="reference internal" href="#DNNLikelihood.Sampler.logpdf_args" title="DNNLikelihood.Sampler.logpdf_args"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.logpdf_args</span></code></a></p>
<p><a class="reference internal" href="#DNNLikelihood.Sampler.pars_pos_poi" title="DNNLikelihood.Sampler.pars_pos_poi"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.pars_pos_poi</span></code></a></p>
<p><a class="reference internal" href="#DNNLikelihood.Sampler.pars_pos_nuis" title="DNNLikelihood.Sampler.pars_pos_nuis"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.pars_pos_nuis</span></code></a></p>
<p><a class="reference internal" href="#DNNLikelihood.Sampler.pars_init_vec" title="DNNLikelihood.Sampler.pars_init_vec"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.pars_init_vec</span></code></a></p>
<p><a class="reference internal" href="#DNNLikelihood.Sampler.pars_labels" title="DNNLikelihood.Sampler.pars_labels"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.pars_labels</span></code></a></p>
<p><a class="reference internal" href="#DNNLikelihood.Sampler.generic_pars_labels" title="DNNLikelihood.Sampler.generic_pars_labels"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.generic_pars_labels</span></code></a></p>
<p><a class="reference internal" href="#DNNLikelihood.Sampler.nwalkers" title="DNNLikelihood.Sampler.nwalkers"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.nwalkers</span></code></a></p>
<p><a class="reference internal" href="#DNNLikelihood.Sampler.ndims" title="DNNLikelihood.Sampler.ndims"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.ndims</span></code></a></p>
<p><a class="reference internal" href="#DNNLikelihood.Sampler.sampler" title="DNNLikelihood.Sampler.sampler"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.sampler</span></code></a></p>
<p><a class="reference internal" href="#DNNLikelihood.Sampler.moves" title="DNNLikelihood.Sampler.moves"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.moves</span></code></a></p>
<p><a class="reference internal" href="#DNNLikelihood.Sampler.verbose" title="DNNLikelihood.Sampler.verbose"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.verbose</span></code></a></p>
</td>
<td></td>
</tr>
<tr class="row-odd"><td><p>✔</p></td>
<td><p><a class="reference internal" href="#DNNLikelihood.Sampler.log" title="DNNLikelihood.Sampler.log"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.log</span></code></a></p></td>
<td><p><a class="reference internal" href="#DNNLikelihood.Sampler.save_sampler_log" title="DNNLikelihood.Sampler.save_sampler_log"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.save_sampler_log</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p>✔</p></td>
<td><p><a class="reference internal" href="#DNNLikelihood.Sampler.backend" title="DNNLikelihood.Sampler.backend"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.backend</span></code></a></p></td>
<td><p><a class="reference internal" href="#DNNLikelihood.Sampler.run_sampler" title="DNNLikelihood.Sampler.run_sampler"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.run_sampler</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p>✔</p></td>
<td><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.backend_file</span></code></p>
<p><a class="reference internal" href="#DNNLikelihood.Sampler.figure_files_base_path" title="DNNLikelihood.Sampler.figure_files_base_path"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.figure_files_base_path</span></code></a></p>
<p><a class="reference internal" href="#DNNLikelihood.Sampler.figures_list" title="DNNLikelihood.Sampler.figures_list"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.figures_list</span></code></a></p>
<p><a class="reference internal" href="#DNNLikelihood.Sampler.likelihood_script_file" title="DNNLikelihood.Sampler.likelihood_script_file"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.likelihood_script_file</span></code></a></p>
<p><a class="reference internal" href="#DNNLikelihood.Sampler.moves_str" title="DNNLikelihood.Sampler.moves_str"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.moves_str</span></code></a></p>
<p><a class="reference internal" href="#DNNLikelihood.Sampler.name" title="DNNLikelihood.Sampler.name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.name</span></code></a></p>
<p><a class="reference internal" href="#DNNLikelihood.Sampler.nsteps" title="DNNLikelihood.Sampler.nsteps"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.nsteps</span></code></a></p>
<p><a class="reference internal" href="#DNNLikelihood.Sampler.output_folder" title="DNNLikelihood.Sampler.output_folder"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.output_folder</span></code></a></p>
<p><a class="reference internal" href="#DNNLikelihood.Sampler.parallel_CPU" title="DNNLikelihood.Sampler.parallel_CPU"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.parallel_CPU</span></code></a></p>
<p><a class="reference internal" href="#DNNLikelihood.Sampler.sampler_output_json_file" title="DNNLikelihood.Sampler.sampler_output_json_file"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.sampler_output_json_file</span></code></a></p>
<p><a class="reference internal" href="#DNNLikelihood.Sampler.sampler_output_log_file" title="DNNLikelihood.Sampler.sampler_output_log_file"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.sampler_output_log_file</span></code></a></p>
<p><a class="reference internal" href="#DNNLikelihood.Sampler.vectorize" title="DNNLikelihood.Sampler.vectorize"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.vectorize</span></code></a></p>
</td>
<td><p><a class="reference internal" href="#DNNLikelihood.Sampler.save_sampler_json" title="DNNLikelihood.Sampler.save_sampler_json"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.save_sampler_json</span></code></a></p></td>
</tr>
</tbody>
</table>
<p>This methos calls in order the <code class="xref py py-meth docutils literal notranslate"><span class="pre">Likelihood.save_sampler_json</span></code> and
<code class="xref py py-meth docutils literal notranslate"><span class="pre">Likelihood.save_sampler_log</span></code> methods. The backend is automatically saved when running MCMC
through the <a class="reference internal" href="#DNNLikelihood.Sampler.run_sampler" title="DNNLikelihood.Sampler.run_sampler"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.run_sampler</span></code></a> method.</p>
<ul>
<li><p><strong>Arguments</strong></p>
<blockquote>
<div><p>Same arguments as the called methods.</p>
</div></blockquote>
</li>
<li><p><strong>Produces files</strong></p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler.sampler_output_json_file" title="DNNLikelihood.Sampler.sampler_output_json_file"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.sampler_output_json_file</span></code></a></p></li>
<li><p><a class="reference internal" href="#DNNLikelihood.Sampler.sampler_output_log_file" title="DNNLikelihood.Sampler.sampler_output_log_file"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.sampler_output_log_file</span></code></a></p></li>
</ul>
</div></blockquote>
</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="DNNLikelihood.Sampler.get_data_object">
<code class="sig-prename descclassname">Sampler.</code><code class="sig-name descname">get_data_object</code><span class="sig-paren">(</span><em class="sig-param">nsamples='all'</em>, <em class="sig-param">burnin=0</em>, <em class="sig-param">thin=1</em>, <em class="sig-param">dtype='float64'</em>, <em class="sig-param">test_fraction=0</em>, <em class="sig-param">verbose=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/DNNLikelihood/sampler.html#Sampler.get_data_object"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#DNNLikelihood.Sampler.get_data_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a <a class="reference internal" href="data.html#DNNLikelihood.Data" title="DNNLikelihood.Data"><code class="xref py py-class docutils literal notranslate"><span class="pre">Data</span></code></a> object with <code class="docutils literal notranslate"><span class="pre">nsamples</span></code> samples by taking chains and logpdf values, discarding
<code class="docutils literal notranslate"><span class="pre">burnin</span></code> steps, thinning every <code class="docutils literal notranslate"><span class="pre">thin</span></code> and converting to dtype <code class="docutils literal notranslate"><span class="pre">dtype</span></code>. When <code class="docutils literal notranslate"><span class="pre">nsamples=&quot;all&quot;</span></code> (default) all samples
available for the given choice of <code class="docutils literal notranslate"><span class="pre">burnin</span></code> and <code class="docutils literal notranslate"><span class="pre">thin</span></code> are included to the <a class="reference internal" href="data.html#DNNLikelihood.Data" title="DNNLikelihood.Data"><code class="xref py py-class docutils literal notranslate"><span class="pre">DNNLikelihood.Data</span></code></a> object,
otherwise only the first <code class="docutils literal notranslate"><span class="pre">nsamples</span></code> are included. If <code class="docutils literal notranslate"><span class="pre">nsamples</span></code> is more than the available number all the available
samples are included and a warning message is printed.
Before including samples in the <a class="reference internal" href="data.html#DNNLikelihood.Data" title="DNNLikelihood.Data"><code class="xref py py-class docutils literal notranslate"><span class="pre">DNNLikelihood.Data</span></code></a> object the method checks if there are duplicate samples
(which would suggest a larger value of <code class="docutils literal notranslate"><span class="pre">thin</span></code>) and non finite values of logpdf (e.g. <code class="docutils literal notranslate"><span class="pre">np.nan</span></code> or <code class="docutils literal notranslate"><span class="pre">np.inf</span></code>)
and print a warning in any of these cases.</p>
<p>The method also allows one to pass to the <a class="reference internal" href="data.html#DNNLikelihood.Data" title="DNNLikelihood.Data"><code class="xref py py-class docutils literal notranslate"><span class="pre">DNNLikelihood.Data</span></code></a> a value for <code class="docutils literal notranslate"><span class="pre">test_fraction</span></code>, which already
splits data into <code class="docutils literal notranslate"><span class="pre">train</span></code> (sample from which training and valudation data are extracted) and <code class="docutils literal notranslate"><span class="pre">test</span></code> (sample only
used for final test) sets. See <a class="reference internal" href="data.html#DNNLikelihood.Data.test_fraction" title="DNNLikelihood.Data.test_fraction"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Data.test_fraction</span></code></a> for more details.</p>
<p>Finally, based on the value of <code class="docutils literal notranslate"><span class="pre">save</span></code>, the generated <a class="reference internal" href="data.html#DNNLikelihood.Data" title="DNNLikelihood.Data"><code class="xref py py-class docutils literal notranslate"><span class="pre">DNNLikelihood.Data</span></code></a> object</p>
<ul>
<li><p><strong>Arguments</strong></p>
<blockquote>
<div><ul>
<li><p><strong>nsamples</strong></p>
<blockquote>
<div><p>Number of samples to include in the
<a class="reference internal" href="data.html#DNNLikelihood.Data" title="DNNLikelihood.Data"><code class="xref py py-class docutils literal notranslate"><span class="pre">Data</span></code></a> object.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">int</span></code> or <code class="docutils literal notranslate"><span class="pre">str</span></code></p></li>
<li><p><strong>allowed string</strong>: <code class="docutils literal notranslate"><span class="pre">&quot;all&quot;</span></code></p></li>
<li><p><strong>default</strong>: <code class="docutils literal notranslate"><span class="pre">&quot;all&quot;</span></code></p></li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
<li><p><strong>burnin</strong></p>
<blockquote>
<div><p>Number of samples to skip as
burnin.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">int</span></code></p></li>
<li><p><strong>default</strong>: <code class="docutils literal notranslate"><span class="pre">0</span></code></p></li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
<li><p><strong>thin</strong></p>
<blockquote>
<div><p>If <code class="docutils literal notranslate"><span class="pre">thin</span></code> is larger than one then one sampler
every thin is taken.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">int</span></code></p></li>
<li><p><strong>default</strong>: <code class="docutils literal notranslate"><span class="pre">1</span></code></p></li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
<li><p><strong>dtype</strong></p>
<blockquote>
<div><p>dtype of the data included in the
<a class="reference internal" href="data.html#DNNLikelihood.Data" title="DNNLikelihood.Data"><code class="xref py py-class docutils literal notranslate"><span class="pre">Data</span></code></a> object.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">str</span></code></p></li>
<li><p><strong>default</strong>: <code class="docutils literal notranslate"><span class="pre">&quot;float64&quot;</span></code></p></li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
<li><p><strong>test_fraction</strong></p>
<blockquote>
<div><p>If specified, in the <a class="reference internal" href="data.html#DNNLikelihood.Data" title="DNNLikelihood.Data"><code class="xref py py-class docutils literal notranslate"><span class="pre">Data</span></code></a> object
data are already split into train (and valudation) and test sets.
See <a class="reference internal" href="data.html#data-object"><span class="std std-ref">the Data object</span></a>.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">float</span></code> in the range <code class="docutils literal notranslate"><span class="pre">(0,1)</span></code></p></li>
<li><p><strong>default</strong>: <code class="docutils literal notranslate"><span class="pre">0</span></code></p></li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
<li><p><strong>verbose</strong></p>
<blockquote>
<div><p>Verbosity mode.
See the <a class="reference internal" href="show_prints.html#verbosity-mode"><span class="std std-ref">Verbosity mode</span></a> documentation for the general behavior.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">bool</span></code></p></li>
<li><p><strong>default</strong>: <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
<li><p><strong>Returns</strong></p>
<blockquote>
<div><p><a class="reference internal" href="data.html#DNNLikelihood.Data" title="DNNLikelihood.Data"><code class="xref py py-class docutils literal notranslate"><span class="pre">Data</span></code></a> object.</p>
</div></blockquote>
</li>
<li><p><strong>Produces files</strong></p>
<blockquote>
<div><p>TBA</p>
</div></blockquote>
</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="DNNLikelihood.Sampler.autocorr_func_1d">
<code class="sig-prename descclassname">Sampler.</code><code class="sig-name descname">autocorr_func_1d</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">norm=True</em>, <em class="sig-param">verbose=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/DNNLikelihood/sampler.html#Sampler.autocorr_func_1d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#DNNLikelihood.Sampler.autocorr_func_1d" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Function adapted from the <a href="https://emcee.readthedocs.io/en/stable/tutorials/autocorr/"  target="_blank"> emcee autocorrelation tutorial</a> (see the link for documentation)
and used to compute and plot autocorrelation time estimates.</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="DNNLikelihood.Sampler.auto_window">
<code class="sig-prename descclassname">Sampler.</code><code class="sig-name descname">auto_window</code><span class="sig-paren">(</span><em class="sig-param">taus</em>, <em class="sig-param">c</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/DNNLikelihood/sampler.html#Sampler.auto_window"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#DNNLikelihood.Sampler.auto_window" title="Permalink to this definition">¶</a></dt>
<dd><p>Function adapted from the <a href="https://emcee.readthedocs.io/en/stable/tutorials/autocorr/"  target="_blank"> emcee autocorrelation tutorial</a> (see the link for documentation)
and used to compute and plot autocorrelation time estimates.</p>
</dd></dl>

<dl class="method">
<dt id="DNNLikelihood.Sampler.autocorr_gw2010">
<code class="sig-prename descclassname">Sampler.</code><code class="sig-name descname">autocorr_gw2010</code><span class="sig-paren">(</span><em class="sig-param">y</em>, <em class="sig-param">c=5.0</em>, <em class="sig-param">verbose=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/DNNLikelihood/sampler.html#Sampler.autocorr_gw2010"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#DNNLikelihood.Sampler.autocorr_gw2010" title="Permalink to this definition">¶</a></dt>
<dd><p>Function adapted from the <a href="https://emcee.readthedocs.io/en/stable/tutorials/autocorr/"  target="_blank"> emcee autocorrelation tutorial</a> (see the link for documentation).
Estimate of the integrated autocorrelation time based on ref. <a class="bibtex reference internal" href="#goodmanweare-2010qj" id="id5">[GW10]</a>.</p>
</dd></dl>

<dl class="method">
<dt id="DNNLikelihood.Sampler.autocorr_new">
<code class="sig-prename descclassname">Sampler.</code><code class="sig-name descname">autocorr_new</code><span class="sig-paren">(</span><em class="sig-param">y</em>, <em class="sig-param">c=5.0</em>, <em class="sig-param">verbose=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/DNNLikelihood/sampler.html#Sampler.autocorr_new"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#DNNLikelihood.Sampler.autocorr_new" title="Permalink to this definition">¶</a></dt>
<dd><p>Function adapted from the <a href="https://emcee.readthedocs.io/en/stable/tutorials/autocorr/"  target="_blank"> emcee autocorrelation tutorial</a> (see the link for documentation).
Estimate of the integrated autocorrelation time based on ref. <a class="bibtex reference internal" href="#fardal-2017" id="id6">[Far17]</a>.</p>
</dd></dl>

<dl class="method">
<dt id="DNNLikelihood.Sampler.autocorr_ml">
<code class="sig-prename descclassname">Sampler.</code><code class="sig-name descname">autocorr_ml</code><span class="sig-paren">(</span><em class="sig-param">y</em>, <em class="sig-param">thin=1</em>, <em class="sig-param">c=5.0</em>, <em class="sig-param">bound=5.0</em>, <em class="sig-param">verbose=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/DNNLikelihood/sampler.html#Sampler.autocorr_ml"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#DNNLikelihood.Sampler.autocorr_ml" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Function adapted from the <a href="https://emcee.readthedocs.io/en/stable/tutorials/autocorr/"  target="_blank"> emcee autocorrelation tutorial</a> (see the link for documentation).
Estimate of the integrated autocorrelation time obtained by fitting an autoregressive model
(2nd order ARMA model) <a class="bibtex reference internal" href="#danforeman-mackey-2017" id="id7">[FM17]</a> using the <a href="https://docs.python.org/3/library/importlib.html"  target="_blank">celerite</a> package.</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="DNNLikelihood.Sampler.gelman_rubin">
<code class="sig-prename descclassname">Sampler.</code><code class="sig-name descname">gelman_rubin</code><span class="sig-paren">(</span><em class="sig-param">pars=0</em>, <em class="sig-param">nsteps='all'</em>, <em class="sig-param">verbose=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/DNNLikelihood/sampler.html#Sampler.gelman_rubin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#DNNLikelihood.Sampler.gelman_rubin" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a parameter (or list of parameters) <code class="docutils literal notranslate"><span class="pre">pars</span></code> and a number of <code class="docutils literal notranslate"><span class="pre">nsteps</span></code>, the method computes
the Gelman and Rubin ratio <a class="bibtex reference internal" href="#gelman-1992zz" id="id8">[GR92]</a> and related quantities for monitoring convergence.
The formula for <span class="math notranslate nohighlight">\(R_{c}\)</span> implements the correction due to Brooks and Gelman <a class="bibtex reference internal" href="#brooks-1998" id="id9">[BG98]</a>
and is implemented here as</p>
<div class="math notranslate nohighlight">
\[R_{c} = \sqrt{\frac{\hat{d}+3}{\hat{d}+1}\frac{\hat{V}}{W}}.\]</div>
<p>See the original papers for the notation.</p>
<p>In order to be able to monitor not only the <span class="math notranslate nohighlight">\(R_{c}\)</span> ratio, but also the values of <span class="math notranslate nohighlight">\(\hat{V}\)</span>
and <span class="math notranslate nohighlight">\(W\)</span> independently, the method also computes these quantities. Usually a reasonable convergence
condition is <span class="math notranslate nohighlight">\(R_{c}&lt;1.1\)</span>, together with stability of both <span class="math notranslate nohighlight">\(\hat{V}\)</span> and <span class="math notranslate nohighlight">\(W\)</span> <a class="bibtex reference internal" href="#brooks-1998" id="id10">[BG98]</a>.</p>
<ul>
<li><p><strong>Arguments</strong></p>
<blockquote>
<div><ul>
<li><p><strong>pars</strong></p>
<blockquote>
<div><p>Parameter or list of parameters
for which the convergence metrics are computed.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">int</span></code> or <code class="docutils literal notranslate"><span class="pre">list</span></code></p></li>
<li><p><strong>shape of list</strong>: <code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">]</span></code></p></li>
<li><p><strong>default</strong>: 0</p></li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
<li><p><strong>nsteps</strong></p>
<blockquote>
<div><p>Array or list of number of steps at which the metrics are computed. If it is an integer it is automatically converted
in a numpy array with a single entry. It it is <code class="docutils literal notranslate"><span class="pre">&quot;all&quot;</span></code> it is set to a list with the only entry
<a class="reference internal" href="#DNNLikelihood.Sampler.nsteps" title="DNNLikelihood.Sampler.nsteps"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.nsteps</span></code></a>.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">str</span></code> or <code class="docutils literal notranslate"><span class="pre">int</span></code> or <code class="docutils literal notranslate"><span class="pre">list</span></code> or <code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></p></li>
<li><p><strong>allowed str</strong>: <code class="docutils literal notranslate"><span class="pre">all</span></code></p></li>
<li><p><strong>shape of list</strong>: <code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">]</span></code></p></li>
<li><p><strong>shape of array</strong>: <code class="docutils literal notranslate"><span class="pre">(len(nsteps),)</span></code></p></li>
<li><p><strong>default</strong>: <code class="docutils literal notranslate"><span class="pre">&quot;all&quot;</span></code></p></li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
<li><p><strong>verbose</strong></p>
<blockquote>
<div><p>Verbosity mode.
See the <a class="reference internal" href="show_prints.html#verbosity-mode"><span class="std std-ref">Verbosity mode</span></a> documentation for the general behavior.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">bool</span></code></p></li>
<li><p><strong>default</strong>: <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
<li><p><strong>Returns</strong></p>
<blockquote>
<div><p>An array constructed concatenating lists of the type <code class="docutils literal notranslate"><span class="pre">[par,</span> <span class="pre">nsteps,</span> <span class="pre">Rc,</span> <span class="pre">Vhat,</span> <span class="pre">W]</span></code> for each parameter
and each choice of nsteps.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></p></li>
<li><p><strong>shape</strong>: <code class="docutils literal notranslate"><span class="pre">(len(pars)*len(nsteps),5)</span></code></p></li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="DNNLikelihood.Sampler.plot_gelman_rubin">
<code class="sig-prename descclassname">Sampler.</code><code class="sig-name descname">plot_gelman_rubin</code><span class="sig-paren">(</span><em class="sig-param">pars=0</em>, <em class="sig-param">npoints=5</em>, <em class="sig-param">pars_labels='original'</em>, <em class="sig-param">overwrite=False</em>, <em class="sig-param">verbose=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/DNNLikelihood/sampler.html#Sampler.plot_gelman_rubin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#DNNLikelihood.Sampler.plot_gelman_rubin" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots the evolution with the number of steps of the convergence metrics <span class="math notranslate nohighlight">\(R_{c}\)</span>,
<span class="math notranslate nohighlight">\(\sqrt{\hat{V}}\)</span>, and <span class="math notranslate nohighlight">\(\sqrt{W}\)</span> computed by the method
<a class="reference internal" href="#DNNLikelihood.Sampler.gelman_rubin" title="DNNLikelihood.Sampler.gelman_rubin"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.gelman_rubin</span></code></a> for parameter (or list of parameters) <code class="docutils literal notranslate"><span class="pre">pars</span></code>.
The plots are produced by computing the quantities in <code class="docutils literal notranslate"><span class="pre">npoints</span></code> equally spaced (in base-10 log scale) points
between one and the total number of available steps.</p>
<ul>
<li><p><strong>Arguments</strong></p>
<blockquote>
<div><ul>
<li><p><strong>pars</strong></p>
<blockquote>
<div><p>Parameter or list of parameters
for which the plots are produced.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">int</span></code> or <code class="docutils literal notranslate"><span class="pre">list</span></code></p></li>
<li><p><strong>shape of list</strong>: <code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">]</span></code></p></li>
<li><p><strong>default</strong>: <code class="docutils literal notranslate"><span class="pre">0</span></code></p></li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
<li><p><strong>npoints</strong></p>
<blockquote>
<div><p>Number of points in which the convergence metrics are computed to produce the plot.
The points are taken equally spaced in base-10 log scale.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">int</span></code></p></li>
<li><p><strong>default</strong>: <code class="docutils literal notranslate"><span class="pre">5</span></code></p></li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
<li><p><strong>pars_labels</strong></p>
<blockquote>
<div><p>Argument that is passed to the <code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.__set_pars_labels</span></code>
method to set the parameters labels to be used in the plots.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">list</span></code> or <code class="docutils literal notranslate"><span class="pre">str</span></code></p></li>
<li><p><strong>shape of list</strong>: <code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">]</span></code></p></li>
<li><p><strong>accepted strings</strong>: <code class="docutils literal notranslate"><span class="pre">&quot;original&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;generic&quot;</span></code></p></li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
<li><p><strong>overwrite</strong></p>
<blockquote>
<div><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code> if a file with the same name already exists, then it gets overwritten. If <code class="docutils literal notranslate"><span class="pre">False</span></code> is a file with the same name
already exists, then the old file gets renamed with the <a class="reference internal" href="utils.html#DNNLikelihood.utils.check_rename_file" title="DNNLikelihood.utils.check_rename_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">utils.check_rename_file</span></code></a>
function.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">bool</span></code></p></li>
<li><p><strong>default</strong>: <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
<li><p><strong>verbose</strong></p>
<blockquote>
<div><p>Verbosity mode.
See the <a class="reference internal" href="show_prints.html#verbosity-mode"><span class="std std-ref">Verbosity mode</span></a> documentation for the general behavior.
The plots are shown in the interactive console calling <code class="docutils literal notranslate"><span class="pre">plt.show()</span></code> only if <code class="docutils literal notranslate"><span class="pre">verbose=True</span></code>.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">bool</span></code></p></li>
<li><p><strong>default</strong>: <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="DNNLikelihood.Sampler.plot_dist">
<code class="sig-prename descclassname">Sampler.</code><code class="sig-name descname">plot_dist</code><span class="sig-paren">(</span><em class="sig-param">pars=0</em>, <em class="sig-param">pars_labels='original'</em>, <em class="sig-param">overwrite=False</em>, <em class="sig-param">verbose=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/DNNLikelihood/sampler.html#Sampler.plot_dist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#DNNLikelihood.Sampler.plot_dist" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots the 1D distribution of parameter (or list of parameters) <code class="docutils literal notranslate"><span class="pre">pars</span></code>.</p>
<ul>
<li><p><strong>Arguments</strong></p>
<blockquote>
<div><ul>
<li><p><strong>pars</strong></p>
<blockquote>
<div><p>Parameter or list of parameters
for which the plots are produced.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">int</span></code> or <code class="docutils literal notranslate"><span class="pre">list</span></code></p></li>
<li><p><strong>shape of list</strong>: <code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">]</span></code></p></li>
<li><p><strong>default</strong>: <code class="docutils literal notranslate"><span class="pre">0</span></code></p></li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
<li><p><strong>pars_labels</strong></p>
<blockquote>
<div><p>Argument that is passed to the <code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.__set_pars_labels</span></code>
method to set the parameters labels to be used in the plots.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">list</span></code> or <code class="docutils literal notranslate"><span class="pre">str</span></code></p></li>
<li><p><strong>shape of list</strong>: <code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">]</span></code></p></li>
<li><p><strong>accepted strings</strong>: <code class="docutils literal notranslate"><span class="pre">&quot;original&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;generic&quot;</span></code></p></li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
<li><p><strong>overwrite</strong></p>
<blockquote>
<div><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code> if a file with the same name already exists, then it gets overwritten. If <code class="docutils literal notranslate"><span class="pre">False</span></code> is a file with the same name
already exists, then the old file gets renamed with the <a class="reference internal" href="utils.html#DNNLikelihood.utils.check_rename_file" title="DNNLikelihood.utils.check_rename_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">utils.check_rename_file</span></code></a>
function.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">bool</span></code></p></li>
<li><p><strong>default</strong>: <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
<li><p><strong>verbose</strong></p>
<blockquote>
<div><p>Verbosity mode.
See the <a class="reference internal" href="show_prints.html#verbosity-mode"><span class="std std-ref">Verbosity mode</span></a> documentation for the general behavior.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">bool</span></code></p></li>
<li><p><strong>default</strong>: <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
<li><p><strong>verbose</strong></p>
<blockquote>
<div><p>Verbosity mode.
See the <a class="reference internal" href="show_prints.html#verbosity-mode"><span class="std std-ref">Verbosity mode</span></a> documentation for the general behavior.
The plots are shown in the interactive console calling <code class="docutils literal notranslate"><span class="pre">plt.show()</span></code> only if <code class="docutils literal notranslate"><span class="pre">verbose=True</span></code>.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">bool</span></code></p></li>
<li><p><strong>default</strong>: <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="DNNLikelihood.Sampler.plot_autocorr">
<code class="sig-prename descclassname">Sampler.</code><code class="sig-name descname">plot_autocorr</code><span class="sig-paren">(</span><em class="sig-param">pars=0, pars_labels='original', methods=['G&amp;W 2010', 'Fardal 2017', 'DFM 2017: ML'], overwrite=False, verbose=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/DNNLikelihood/sampler.html#Sampler.plot_autocorr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#DNNLikelihood.Sampler.plot_autocorr" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots the integrated autocorrelation time estimate evolution with the number of steps for parameter (or list of parameters) <code class="docutils literal notranslate"><span class="pre">pars</span></code>.
Three different methods are used to estimate the autocorrelation time: “G&amp;W 2010” <a class="bibtex reference internal" href="#goodmanweare-2010qj" id="id11">[GW10]</a>,
“Fardal 2017” <a class="bibtex reference internal" href="#fardal-2017" id="id12">[Far17]</a>, and “DFM 2017: ML” <a class="bibtex reference internal" href="#danforeman-mackey-2017" id="id13">[FM17]</a>, described in details
in the <a href="https://emcee.readthedocs.io/en/stable/tutorials/autocorr/"  target="_blank"> emcee autocorrelation tutorial</a> and corresponding to the three methods
<a class="reference internal" href="#DNNLikelihood.Sampler.autocorr_gw2010" title="DNNLikelihood.Sampler.autocorr_gw2010"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.autocorr_gw2010</span></code></a>, <a class="reference internal" href="#DNNLikelihood.Sampler.autocorr_new" title="DNNLikelihood.Sampler.autocorr_new"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.autocorr_new</span></code></a>,
and <a class="reference internal" href="#DNNLikelihood.Sampler.autocorr_ml" title="DNNLikelihood.Sampler.autocorr_ml"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.autocorr_ml</span></code></a>, respectively.
The function accepts a list of methods and by default it makes the plot including all available
methods. Notice that to use the method “DFM 2017: ML” based on fitting an autoregressive model, the <a href="https://docs.python.org/3/library/importlib.html"  target="_blank">celerite</a> package needs to be
installed.</p>
<ul>
<li><p><strong>Arguments</strong></p>
<blockquote>
<div><ul>
<li><p><strong>pars</strong></p>
<blockquote>
<div><p>Parameter or list of parameters
for which the plots are produced.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">int</span></code> or <code class="docutils literal notranslate"><span class="pre">list</span></code></p></li>
<li><p><strong>shape of list</strong>: <code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">]</span></code></p></li>
<li><p><strong>default</strong>: <code class="docutils literal notranslate"><span class="pre">0</span></code></p></li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
<li><p><strong>pars_labels</strong></p>
<blockquote>
<div><p>Argument that is passed to the <code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.__set_pars_labels</span></code>
method to set the parameters labels to be used in the plots.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">list</span></code> or <code class="docutils literal notranslate"><span class="pre">str</span></code></p></li>
<li><p><strong>shape of list</strong>: <code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">]</span></code></p></li>
<li><p><strong>accepted strings</strong>: <code class="docutils literal notranslate"><span class="pre">&quot;original&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;generic&quot;</span></code></p></li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
<li><p><strong>methods</strong></p>
<blockquote>
<div><p>List of methods to estimate the autocorrelation time. The three availanle methods are “G&amp;W 2010”, “Fardal 2017”, and “DFM 2017: ML”.
One curve for each method will be produced.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">list</span></code></p></li>
<li><p><strong>shape of list</strong>: <code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">]</span></code></p></li>
<li><p><strong>default</strong>: <code class="docutils literal notranslate"><span class="pre">[&quot;G&amp;W</span> <span class="pre">2010&quot;,</span> <span class="pre">&quot;Fardal</span> <span class="pre">2017&quot;,</span> <span class="pre">&quot;DFM</span> <span class="pre">2017:</span> <span class="pre">ML&quot;]</span></code></p></li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
<li><p><strong>overwrite</strong></p>
<blockquote>
<div><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code> if a file with the same name already exists, then it gets overwritten. If <code class="docutils literal notranslate"><span class="pre">False</span></code> is a file with the same name
already exists, then the old file gets renamed with the <a class="reference internal" href="utils.html#DNNLikelihood.utils.check_rename_file" title="DNNLikelihood.utils.check_rename_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">utils.check_rename_file</span></code></a>
function.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">bool</span></code></p></li>
<li><p><strong>default</strong>: <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
<li><p><strong>verbose</strong></p>
<blockquote>
<div><p>Verbosity mode.
See the <a class="reference internal" href="show_prints.html#verbosity-mode"><span class="std std-ref">Verbosity mode</span></a> documentation for the general behavior.
The plots are shown in the interactive console calling <code class="docutils literal notranslate"><span class="pre">plt.show()</span></code> only if <code class="docutils literal notranslate"><span class="pre">verbose=True</span></code>.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">bool</span></code></p></li>
<li><p><strong>default</strong>: <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="DNNLikelihood.Sampler.plot_chains">
<code class="sig-prename descclassname">Sampler.</code><code class="sig-name descname">plot_chains</code><span class="sig-paren">(</span><em class="sig-param">pars=0</em>, <em class="sig-param">n_chains=100</em>, <em class="sig-param">pars_labels='original'</em>, <em class="sig-param">overwrite=False</em>, <em class="sig-param">verbose=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/DNNLikelihood/sampler.html#Sampler.plot_chains"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#DNNLikelihood.Sampler.plot_chains" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots the evolution of chains (walkers) with the number of steps for <code class="docutils literal notranslate"><span class="pre">n_chains</span></code> randomly selected chains among the
<code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.nwalkers</span> <span class="pre">&lt;DNNLikelihood.Sampler.nwalkers&gt;`</span></code> walkers. If <code class="docutils literal notranslate"><span class="pre">n_chains</span></code> is larger than the available number
of walkers, the plot is done for all walkers.</p>
<ul>
<li><p><strong>Arguments</strong></p>
<blockquote>
<div><ul>
<li><p><strong>pars</strong></p>
<blockquote>
<div><p>Parameter or list of parameters
for which the plots are produced.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">int</span></code> or <code class="docutils literal notranslate"><span class="pre">list</span></code></p></li>
<li><p><strong>shape of list</strong>: <code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">]</span></code></p></li>
<li><p><strong>default</strong>: <code class="docutils literal notranslate"><span class="pre">0</span></code></p></li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
<li><p><strong>n_chains</strong></p>
<blockquote>
<div><p>The number of chains to
add to the plot.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">int</span></code></p></li>
<li><p><strong>default</strong>: <code class="docutils literal notranslate"><span class="pre">100</span></code></p></li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
<li><p><strong>pars_labels</strong></p>
<blockquote>
<div><p>Argument that is passed to the <code class="xref py py-meth docutils literal notranslate"><span class="pre">Sampler.__set_pars_labels</span></code>
method to set the parameters labels to be used in the plots.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">list</span></code> or <code class="docutils literal notranslate"><span class="pre">str</span></code></p></li>
<li><p><strong>shape of list</strong>: <code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">]</span></code></p></li>
<li><p><strong>accepted strings</strong>: <code class="docutils literal notranslate"><span class="pre">&quot;original&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;generic&quot;</span></code></p></li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
<li><p><strong>overwrite</strong></p>
<blockquote>
<div><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code> if a file with the same name already exists, then it gets overwritten. If <code class="docutils literal notranslate"><span class="pre">False</span></code> is a file with the same name
already exists, then the old file gets renamed with the <a class="reference internal" href="utils.html#DNNLikelihood.utils.check_rename_file" title="DNNLikelihood.utils.check_rename_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">utils.check_rename_file</span></code></a>
function.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">bool</span></code></p></li>
<li><p><strong>default</strong>: <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
<li><p><strong>verbose</strong></p>
<blockquote>
<div><p>Verbosity mode.
See the <a class="reference internal" href="show_prints.html#verbosity-mode"><span class="std std-ref">Verbosity mode</span></a> documentation for the general behavior.
The plots are shown in the interactive console calling <code class="docutils literal notranslate"><span class="pre">plt.show()</span></code> only if <code class="docutils literal notranslate"><span class="pre">verbose=True</span></code>.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">bool</span></code></p></li>
<li><p><strong>default</strong>: <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="DNNLikelihood.Sampler.plot_chains_logpdf">
<code class="sig-prename descclassname">Sampler.</code><code class="sig-name descname">plot_chains_logpdf</code><span class="sig-paren">(</span><em class="sig-param">n_chains=100</em>, <em class="sig-param">overwrite=False</em>, <em class="sig-param">verbose=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/DNNLikelihood/sampler.html#Sampler.plot_chains_logpdf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#DNNLikelihood.Sampler.plot_chains_logpdf" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots the evolution of minus the logpdf values with the number of steps for <code class="docutils literal notranslate"><span class="pre">n_chains</span></code> randomly selected chains among the
<code class="xref py py-attr docutils literal notranslate"><span class="pre">Sampler.nwalkers</span> <span class="pre">&lt;DNNLikelihood.Sampler.nwalkers&gt;`</span></code> walkers. If <code class="docutils literal notranslate"><span class="pre">n_chains</span></code> is larger than the available number
of walkers, the plot is done for all walkers.</p>
<ul>
<li><p><strong>Arguments</strong></p>
<blockquote>
<div><ul>
<li><p><strong>n_chains</strong></p>
<blockquote>
<div><p>The number of chains to
add to the plot.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">int</span></code></p></li>
<li><p><strong>default</strong>: <code class="docutils literal notranslate"><span class="pre">100</span></code></p></li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
<li><p><strong>overwrite</strong></p>
<blockquote>
<div><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code> if a file with the same name already exists, then it gets overwritten. If <code class="docutils literal notranslate"><span class="pre">False</span></code> is a file with the same name
already exists, then the old file gets renamed with the <a class="reference internal" href="utils.html#DNNLikelihood.utils.check_rename_file" title="DNNLikelihood.utils.check_rename_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">utils.check_rename_file</span></code></a>
function.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">bool</span></code></p></li>
<li><p><strong>default</strong>: <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
<li><p><strong>verbose</strong></p>
<blockquote>
<div><p>Verbosity mode.
See the <a class="reference internal" href="show_prints.html#verbosity-mode"><span class="std std-ref">Verbosity mode</span></a> documentation for the general behavior.
The plots are shown in the interactive console calling <code class="docutils literal notranslate"><span class="pre">plt.show()</span></code> only if <code class="docutils literal notranslate"><span class="pre">verbose=True</span></code>.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">bool</span></code></p></li>
<li><p><strong>default</strong>: <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="DNNLikelihood.Sampler.set_verbosity">
<code class="sig-prename descclassname">Sampler.</code><code class="sig-name descname">set_verbosity</code><span class="sig-paren">(</span><em class="sig-param">verbose</em><span class="sig-paren">)</span><a class="headerlink" href="#DNNLikelihood.Sampler.set_verbosity" title="Permalink to this definition">¶</a></dt>
<dd><p>Method inherited by all classes (from the <a class="reference internal" href="show_prints.html#DNNLikelihood.Verbosity" title="DNNLikelihood.Verbosity"><code class="xref py py-class docutils literal notranslate"><span class="pre">Verbosity</span></code></a> class)
used to set the verbosity mode. If the input argument <code class="docutils literal notranslate"><span class="pre">verbose</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">verbose</span></code> is
set to the default class verbosity <code class="docutils literal notranslate"><span class="pre">self.verbose</span></code>. If the input argument <code class="docutils literal notranslate"><span class="pre">verbose</span></code> is negative
then <code class="docutils literal notranslate"><span class="pre">verbose_sub</span></code> is set to <code class="docutils literal notranslate"><span class="pre">0</span></code> (<code class="docutils literal notranslate"><span class="pre">False</span></code>), otherwise it is set to <code class="docutils literal notranslate"><span class="pre">verbose</span></code>.</p>
<ul>
<li><p><strong>Arguments</strong></p>
<blockquote>
<div><ul>
<li><p><strong>verbose</strong></p>
<blockquote>
<div><p>Verbosity mode.
See the <a class="reference internal" href="show_prints.html#verbosity-mode"><span class="std std-ref">Verbosity mode</span></a> documentation for more details.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">bool</span></code></p></li>
<li><p><strong>default</strong>: <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
<li><p><strong>Returns</strong></p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">[verbose,verbose_sub]</span></code>.</p>
</div></blockquote>
</li>
</ul>
</dd></dl>

</div></blockquote>
</div>
</div>
<div class="section" id="references">
<h2>References<a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h2>
<p id="bibtex-bibliography-sampler-0"><dl class="citation">
<dt class="bibtex label" id="brooks-1998"><span class="brackets">BG98</span><span class="fn-backref">(<a href="#id9">1</a>,<a href="#id10">2</a>)</span></dt>
<dd><p>Stephen P. Brooks and Andrew Gelman. General methods for monitoring convergence of iterative simulations. <em>Journal of Computational and Graphical Statistics</em>, 7(4):434–455, dec 1998. URL: <a class="reference external" href="https://www.semanticscholar.org/paper/General-Methods-for-Monitoring-Convergence-of-Brooks-Gelman/abd6cc122265b2d5de049145a0d91211bace5009">https://www.semanticscholar.org/paper/General-Methods-for-Monitoring-Convergence-of-Brooks-Gelman/abd6cc122265b2d5de049145a0d91211bace5009</a>, <a class="reference external" href="https://doi.org/10.1080/10618600.1998.10474787">doi:10.1080/10618600.1998.10474787</a>.</p>
</dd>
<dt class="bibtex label" id="fardal-2017"><span class="brackets">Far17</span><span class="fn-backref">(<a href="#id6">1</a>,<a href="#id12">2</a>)</span></dt>
<dd><p>Fardal. Autocorrelation time: is taking the mean the right thing to do? <em>GitHub</em>, 2017. URL: <a class="reference external" href="https://github.com/dfm/emcee/issues/209">https://github.com/dfm/emcee/issues/209</a>.</p>
</dd>
<dt class="bibtex label" id="danforeman-mackey-2017"><span class="brackets">FM17</span><span class="fn-backref">(<a href="#id7">1</a>,<a href="#id13">2</a>)</span></dt>
<dd><p>Dan Foreman-Mackey. Emcee tutorial: Autocorrelation analysis &amp; convergence. 2017. URL: <a class="reference external" href="https://emcee.readthedocs.io/en/stable/tutorials/autocorr/#what-about-shorter-chains">https://emcee.readthedocs.io/en/stable/tutorials/autocorr/#what-about-shorter-chains</a>.</p>
</dd>
<dt class="bibtex label" id="foremanmackey-2012ig"><span class="brackets"><a class="fn-backref" href="#id2">FMHLG13</a></span></dt>
<dd><p>Daniel Foreman-Mackey, David W. Hogg, Dustin Lang, and Jonathan Goodman. emcee: The MCMC Hammer. <em>Publ. Astron. Soc. Pac.</em>, 125:306–312, 2013. URL: <a class="reference external" href="https://labs.inspirehep.net/literature/1089369">https://labs.inspirehep.net/literature/1089369</a>, <a class="reference external" href="https://arxiv.org/abs/1202.3665">arXiv:1202.3665</a>, <a class="reference external" href="https://doi.org/10.1086/670067">doi:10.1086/670067</a>.</p>
</dd>
<dt class="bibtex label" id="gelman-1992zz"><span class="brackets">GR92</span><span class="fn-backref">(<a href="#id1">1</a>,<a href="#id8">2</a>)</span></dt>
<dd><p>Andrew Gelman and Donald B. Rubin. Inference from iterative simulation using multiple sequences. <em>Statist. Sci.</em>, 7:457–472, 1992. URL: <a class="reference external" href="https://labs.inspirehep.net/literature/352327">https://labs.inspirehep.net/literature/352327</a>, <a class="reference external" href="https://doi.org/10.1214/ss/1177011136">doi:10.1214/ss/1177011136</a>.</p>
</dd>
<dt class="bibtex label" id="goodmanweare-2010qj"><span class="brackets">GW10</span><span class="fn-backref">(<a href="#id5">1</a>,<a href="#id11">2</a>)</span></dt>
<dd><p>J. Goodman and J. Weare. Ensemble samplers with affine invariance. <em>Communications in Applied Mathematics and Computational Science, Vol. 5, No. 1, p. 65-80, 2010</em>, 5:65–80, 2010. URL: <a class="reference external" href="https://www.semanticscholar.org/paper/ENSEMBLE-SAMPLERS-WITH-AFFINE-INVARIANCE-Goodman-Weare/4311c875c04b091acba45de428b68daa66b69a3c">https://www.semanticscholar.org/paper/ENSEMBLE-SAMPLERS-WITH-AFFINE-INVARIANCE-Goodman-Weare/4311c875c04b091acba45de428b68daa66b69a3c</a>, <a class="reference external" href="https://doi.org/10.2140/camcos.2010.5.65">doi:10.2140/camcos.2010.5.65</a>.</p>
</dd>
</dl>
</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="data.html" class="btn btn-neutral float-right" title="The Data object" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="likelihood.html" class="btn btn-neutral float-left" title="The Likelihood object" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Andrea Coccaro; Maurizio Pierini; Luca Silvestrini; Riccardo Torre

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>